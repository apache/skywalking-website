<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>SkyWalking Ruby Quick Start and Principle Introduction | Apache SkyWalking</title><meta property="og:title" content="SkyWalking Ruby Quick Start and Principle Introduction" />
<meta property="og:description" content="This article demonstrates how to integrate applications with SkyWalking Ruby and provides a brief interpretation of the implementation mechanism of Ruby auto-instrumentation plugins." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/2025-03-06-introduction-to-skywalking-ruby/" />
<meta property="article:published_time" content="2025-03-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-07-23T16:04:05+08:00" />
<meta itemprop="name" content="SkyWalking Ruby Quick Start and Principle Introduction">
<meta itemprop="description" content="This article demonstrates how to integrate applications with SkyWalking Ruby and provides a brief interpretation of the implementation mechanism of Ruby auto-instrumentation plugins.">
<meta itemprop="datePublished" content="2025-03-06T00:00:00+00:00" />
<meta itemprop="dateModified" content="2025-07-23T16:04:05+08:00" />
<meta itemprop="wordCount" content="951">



<meta itemprop="keywords" content="Ruby,Agent,Tracing," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SkyWalking Ruby Quick Start and Principle Introduction"/>
<meta name="twitter:description" content="This article demonstrates how to integrate applications with SkyWalking Ruby and provides a brief interpretation of the implementation mechanism of Ruby auto-instrumentation plugins."/>



<link rel="preload" href="/scss/main.min.0c770159917a7e9107bd3454069daa2bf26932350638329b3c9419597d4e6e80.css" as="style">
<link href="/scss/main.min.0c770159917a7e9107bd3454069daa2bf26932350638329b3c9419597d4e6e80.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />
<link rel="stylesheet" href="/css/highlight-github.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>SkyWalking Ruby Quick Start and Principle Introduction | Apache SkyWalking</title>
  </head>
  <body class="td-page td-blog">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row container container-center">

          <main class="col-12 col-md-12 col-xl-10 pl-md-4 pr-md-4" role="main">
            
<div class="td-content">
	<h1>SkyWalking Ruby Quick Start and Principle Introduction</h1>
	<div class="lead">This article demonstrates how to integrate applications with SkyWalking Ruby and provides a brief interpretation of the implementation mechanism of Ruby auto-instrumentation plugins.</div>
	<div class="td-byline mb-4">
		By <b>Zixin Zhou</b> |
		<time datetime="2025-03-06" class="text-muted">Thursday, March 06, 2025</time>


		
		<p class="mt-1 tags-box">
			<i class="iconfont icon-tags"></i>Tags |
			
			<span> <a href="/tags/ruby">Ruby</a></span>
			
			<span> <a href="/tags/agent">Agent</a></span>
			
			<span> <a href="/tags/tracing">Tracing</a></span>
			
		</p>
		


	</div>
	<h2 id="background">Background</h2>
<p>Ruby is a dynamic, object-oriented programming language with concise and elegant syntax, supporting multiple programming
paradigms, including object-oriented, functional, and metaprogramming. Leveraging its powerful metaprogramming
capabilities, Ruby allows modifying the behavior of classes and objects at runtime.
SkyWalking provides a <a href="https://rubygems.org/gems/skywalking">Ruby gem</a> to facilitate integration with Ruby projects, and
this gem supports many out-of-the-box frameworks and gems.</p>
<p>This article is based on skywalking-ruby-v0.1. We will guide you on how to quickly integrate the skywalking-ruby project
into Ruby projects and briefly introduce the implementation principle of SkyWalking Ruby&rsquo;s auto-instrumentation plugins using
redis-rb as an example.</p>
<p>The demonstration includes the following steps:</p>
<ol>
<li><strong>Deploy SkyWalking</strong>: This involves setting up the SkyWalking backend and UI programs to enable you to
see the final results.</li>
<li><strong>Integrate SkyWalking into Different Ruby Projects</strong>: This section explains how to integrate SkyWalking into
different Ruby projects.</li>
<li><strong>Application Deployment</strong>: You will export environment variables and deploy the application to facilitate
communication between your service and the SkyWalking backend.</li>
<li><strong>Visualization on SkyWalking UI</strong>: Finally, you will send requests and observe the results in the SkyWalking UI.</li>
</ol>
<h2 id="deploy-skywalking">Deploy SkyWalking</h2>
<p>Please download the SkyWalking APM program from the official SkyWalking website,
and then you can start all the required services using the <a href="https://skywalking.apache.org/docs/main/next/en/setup/backend/backend-docker/#start-the-storage-oap-and-booster-ui-with-docker-compose">quick start script</a>.</p>
<p>Next, you can access the address http://localhost:8080/. At this point, since no applications have been deployed, you
will not see any data.</p>
<p>Integrate SkyWalking into Different Ruby Projects
It is recommended to use <a href="https://bundler.io/">Bundler</a> to install and manage SkyWalking dependencies. Simply declare it in the Gemfile and run
bundle install to complete the installation.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#998;font-style:italic"># Gemfile</span>
<span style="color:#0086b3">source</span> <span style="color:#d14">&#34;https://rubygems.org&#34;</span>

gem <span style="color:#d14">&#34;skywalking&#34;</span>
</code></pre></div><h3 id="integration-in-rails-projects">Integration in Rails Projects</h3>
<p>For Rails projects, it is recommended to use the following command to automatically generate the configuration file:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">bundle <span style="color:#0086b3">exec</span> rails generate skywalking:start
</code></pre></div><p>This command will automatically generate a <code>skywalking.rb</code> file in the <code>config/initializers</code> directory, where you can
configure the startup parameters.</p>
<h3 id="integration-in-sinatra-projects">Integration in Sinatra Projects</h3>
<p>For Sinatra projects, you need to manually call <code>Skywalking.start</code> when the application starts. For example:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#0086b3">require</span> <span style="color:#d14">&#39;sinatra&#39;</span>
<span style="color:#0086b3">require</span> <span style="color:#d14">&#39;skywalking&#39;</span>

<span style="color:#008080">Skywalking</span><span style="color:#000;font-weight:bold">.</span>start

get <span style="color:#d14">&#39;/sw&#39;</span> <span style="color:#000;font-weight:bold">do</span>
  <span style="color:#d14">&#34;Hello SkyWalking!&#34;</span>
<span style="color:#000;font-weight:bold">end</span>
</code></pre></div><p>In the Gemfile, place skywalking after sinatra and use <code>Bundler.require</code> during initialization, or call
<code>require 'skywalking'</code> after the sinatra gem is loaded. Note that the skywalking gem needs to be placed after
other gems (such as redis, elasticsearch).</p>
<h2 id="application-deployment">Application Deployment</h2>
<p>Before starting the application deployment, you can change the service name of the current application in SkyWalking
through environment variables. You can also modify its configuration, such as the server-side address. For more details,
please refer to the <a href="https://skywalking.apache.org/docs/skywalking-ruby/next/en/setup/quick-start/#configuration">documentation</a>.</p>
<p>Here, we will change the current service name to <code>sw-ruby</code>.</p>
<p>Next, you can start the application. Here is an example using <code>sinatra</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#0086b3">export</span> <span style="color:#008080">SW_AGENT_SERVICE_NAME</span><span style="color:#000;font-weight:bold">=</span>sw-ruby

ruby sinatra.rb
</code></pre></div><h2 id="visualization-on-skywalking-ui">Visualization on SkyWalking UI</h2>
<p>Now, send requests to the application and observe the results in the SkyWalking UI.</p>
<p>After a few seconds, revisit the SkyWalking UI at http://localhost:8080. You will be able to see the deployed <code>demo</code>
service on the homepage.</p>
<p><img src="service.png" alt=""></p>
<p>Additionally, on the tracing page, you can see the request you just sent.</p>
<p><img src="trace.png" alt=""></p>
<h2 id="plugin-implementation-mechanism">Plugin Implementation Mechanism</h2>
<p>To understand the implementation mechanism of Ruby Agent&rsquo;s auto-instrumentation plugins, it is essential to understand the concept
of the ancestor chain in Ruby. The ancestor chain is an ordered list, and in Ruby, each class or module has an ancestor
chain that includes all its parent classes and mixin modules (modules mixed in via include, prepend, or extend).
When Ruby looks up a method, it searches in the order of the ancestor chain until it finds the target method or throws a
<code>NoMethodError</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">User</span>
<span style="color:#000;font-weight:bold">end</span>
</code></pre></div><p>We have defined a User class, and its ancestor chain is as shown in the following figure:</p>
<p><img src="p1.png" alt=""></p>
<p>Next, mix in a module using the <code>prepend</code> method:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#000;font-weight:bold">module</span> <span style="color:#555">Dapper</span>
  <span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">brave</span>
    <span style="color:#d14">&#34;Hello from brave&#34;</span>
  <span style="color:#000;font-weight:bold">end</span>
<span style="color:#000;font-weight:bold">end</span>

<span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">User</span>
  prepend <span style="color:#008080">Dapper</span>
<span style="color:#000;font-weight:bold">end</span>

<span style="color:#0086b3">p</span> <span style="color:#008080">User</span><span style="color:#000;font-weight:bold">.</span>new<span style="color:#000;font-weight:bold">.</span>brave <span style="color:#998;font-style:italic"># =&gt; &#34;Hello from brave&#34;</span>
</code></pre></div><p><code>prepend</code> will insert at position 1 in the above figure. Ruby first looks for the brave method in the Dapper module, finds
it, and calls it. If the brave method is not found in Dapper, Ruby continues to search in the User class. If it is not
found in the User class, Ruby continues to search in Object, and so on.</p>
<p>Based on this mechanism, let&rsquo;s briefly introduce how we instrument the <a href="https://github.com/redis-rb/redis-client">redis-rb</a> method.
The following code is the target method to be instrumented:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#998;font-style:italic"># lib/redis/client.rb</span>
<span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Redis</span>
  <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Client</span> <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#000;font-weight:bold">::</span><span style="color:#008080">RedisClient</span>
    <span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">call_v</span>(command, <span style="color:#000;font-weight:bold">&amp;</span>block)
      <span style="color:#000;font-weight:bold">super</span>(command, <span style="color:#000;font-weight:bold">&amp;</span>block)
    <span style="color:#000;font-weight:bold">rescue</span> <span style="color:#000;font-weight:bold">::</span><span style="color:#008080">RedisClient</span><span style="color:#000;font-weight:bold">::</span><span style="color:#008080">Error</span> <span style="color:#000;font-weight:bold">=&gt;</span> error
      <span style="color:#008080">Client</span><span style="color:#000;font-weight:bold">.</span>translate_error!(error)
    <span style="color:#000;font-weight:bold">end</span>
  <span style="color:#000;font-weight:bold">end</span>
<span style="color:#000;font-weight:bold">end</span>
</code></pre></div><p>Below is the core code for instrumentation:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#000;font-weight:bold">module</span> <span style="color:#555">Skywalking</span>
  <span style="color:#000;font-weight:bold">module</span> <span style="color:#555">Plugins</span>
    <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Redis5</span> <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#008080">PluginsManager</span><span style="color:#000;font-weight:bold">::</span><span style="color:#008080">SWPlugin</span>
      <span style="color:#000;font-weight:bold">module</span> <span style="color:#555">Redis5Intercept</span>
        <span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">call_v</span>(args, <span style="color:#000;font-weight:bold">&amp;</span>block)
          operation <span style="color:#000;font-weight:bold">=</span> args<span style="color:#000;font-weight:bold">[</span><span style="color:#099">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">rescue</span> <span style="color:#d14">&#34;UNKNOWN&#34;</span>
          <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">super</span> <span style="color:#000;font-weight:bold">if</span> operation <span style="color:#000;font-weight:bold">==</span> <span style="color:#990073">:auth</span>

          <span style="color:#008080">Tracing</span><span style="color:#000;font-weight:bold">::</span><span style="color:#008080">ContextManager</span><span style="color:#000;font-weight:bold">.</span>new_exit_span(
            <span style="color:#990073">operation</span>: <span style="color:#d14">&#34;Redis/</span><span style="color:#d14">#{</span>operation<span style="color:#000;font-weight:bold">.</span>upcase<span style="color:#d14">}</span><span style="color:#d14">&#34;</span>
          ) <span style="color:#000;font-weight:bold">do</span> <span style="color:#000;font-weight:bold">|</span>span<span style="color:#000;font-weight:bold">|</span>
            <span style="color:#998;font-style:italic"># Omitted handling of span </span>
            <span style="color:#000;font-weight:bold">super</span>(args, <span style="color:#000;font-weight:bold">&amp;</span>block) <span style="color:#998;font-style:italic"># Call the original method</span>
          <span style="color:#000;font-weight:bold">end</span>
        <span style="color:#000;font-weight:bold">end</span>
      <span style="color:#000;font-weight:bold">end</span>

      <span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">install</span>
        <span style="color:#000;font-weight:bold">::</span><span style="color:#008080">Redis</span><span style="color:#000;font-weight:bold">::</span><span style="color:#008080">Client</span><span style="color:#000;font-weight:bold">.</span>prepend <span style="color:#008080">Redis5Intercept</span>
      <span style="color:#000;font-weight:bold">end</span>
    <span style="color:#000;font-weight:bold">end</span>
  <span style="color:#000;font-weight:bold">end</span>
<span style="color:#000;font-weight:bold">end</span>
</code></pre></div><p>Here, we define a Redis5Intercept module and prepend it to <code>::Redis::Client</code>. According to Ruby&rsquo;s method lookup mechanism,
when the <code>call_v</code> method of <code>Redis::Client</code> is called, Ruby will first execute the <code>call_v</code> method in <code>Redis5Intercept</code>. The
order of the ancestor chain is as follows:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">Redis5Intercept -&gt; Redis::Client -&gt; ... (other parent classes and modules)
</code></pre></div><p>At the same time, in the <code>call_v</code> method of <code>Redis5Intercept</code>, <code>super(args, &amp;block)</code> will find the next method with the same
name along the ancestor chain, which in this case is the original <code>call_v</code> method in <code>Redis::Client</code>, while passing the
original arguments and block.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This article explained the integration methods of SkyWalking Ruby in Ruby projects and briefly introduced the
implementation mechanism of SkyWalking Ruby&rsquo;s auto-instrumentation plugins.</p>
<p>Currently, the Ruby auto-instrumentation is in the early stages of development. In the future, we will continue to expand the
functionality of SkyWalking Ruby and add support for more plugins. So, stay tuned!</p>

	

	<ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5">
  <li>
    <a href="/blog/2025-02-24-improving-alert-accuracy-with-dynamic-baselines/" class="btn btn-primary "><span class="mr-1">←</span> Previous</a>
  </li>
    <a href="/blog/2024-04-19-flink-monitoring-by-skywalking/" class="btn btn-primary ">Next <span class="ml-1">→</span></a>
  </li>
</ul>

</div>


          </main>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">

            <div class="tags-wrapper">
    <div class="font-weight-bold post-meta ">
        <i class="iconfont icon-tags pr-1" aria-hidden="true"></i>
        Tags
    </div>
    <ul class="tags-box">
        
        <li>
            <a href="/tags/activemq/" class="tag-link">ActiveMQ</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/agent/" class="tag-link">Agent</a>
            <span class="count">12</span>
        </li>
        
        <li>
            <a href="/tags/apache-shenyu-incubating/" class="tag-link">Apache ShenYu (incubating)</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/apisix/" class="tag-link">APISIX</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/apm/" class="tag-link">APM</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/arthas/" class="tag-link">Arthas</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/aurora/" class="tag-link">Aurora</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/aws/" class="tag-link">AWS</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/banyandb/" class="tag-link">BanyanDB</a>
            <span class="count">4</span>
        </li>
        
        <li>
            <a href="/tags/browser/" class="tag-link">Browser</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/chaos-engineering/" class="tag-link">Chaos Engineering</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/chaos-mesh/" class="tag-link">Chaos Mesh</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/clickhouse/" class="tag-link">ClickHouse</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/conference/" class="tag-link">Conference</a>
            <span class="count">6</span>
        </li>
        
        <li>
            <a href="/tags/database/" class="tag-link">Database</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/demo/" class="tag-link">Demo</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/design/" class="tag-link">Design</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/dotnetcore/" class="tag-link">DotNetCore</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/ebpf/" class="tag-link">eBPF</a>
            <span class="count">8</span>
        </li>
        
        <li>
            <a href="/tags/flink/" class="tag-link">Flink</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/golang/" class="tag-link">Golang</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/grafana/" class="tag-link">Grafana</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/http/" class="tag-link">HTTP</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/infrastructure-monitoring/" class="tag-link">Infrastructure Monitoring</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/iotdb/" class="tag-link">IoTDB</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/istio/" class="tag-link">Istio</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/java/" class="tag-link">Java</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/kafka/" class="tag-link">Kafka</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/kong/" class="tag-link">Kong</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/kubernetes/" class="tag-link">Kubernetes</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/lal/" class="tag-link">LAL</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/license/" class="tag-link">License</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/logging/" class="tag-link">Logging</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/logs/" class="tag-link">Logs</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/metric/" class="tag-link">Metric</a>
            <span class="count">6</span>
        </li>
        
        <li>
            <a href="/tags/metrics/" class="tag-link">Metrics</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/nginx/" class="tag-link">Nginx</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/observability/" class="tag-link">Observability</a>
            <span class="count">10</span>
        </li>
        
        <li>
            <a href="/tags/ospp/" class="tag-link">OSPP</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/performance/" class="tag-link">Performance</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/profiling/" class="tag-link">Profiling</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/promql/" class="tag-link">PromQL</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/python/" class="tag-link">Python</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/r3/" class="tag-link">R3</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/rds/" class="tag-link">RDS</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/release-blog/" class="tag-link">Release Blog</a>
            <span class="count">8</span>
        </li>
        
        <li>
            <a href="/tags/restful/" class="tag-link">RESTFul</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/rocketmq/" class="tag-link">RocketMQ</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/ruby/" class="tag-link">Ruby</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/satellite/" class="tag-link">Satellite</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/service-hierarchy/" class="tag-link">Service Hierarchy</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/service-mesh/" class="tag-link">Service Mesh</a>
            <span class="count">6</span>
        </li>
        
        <li>
            <a href="/tags/sharding-sphere/" class="tag-link">Sharding-Sphere</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/sharding-sphere-proxy/" class="tag-link">Sharding-Sphere-proxy</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/skywalking/" class="tag-link">SkyWalking</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/spring/" class="tag-link">Spring</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/storage/" class="tag-link">Storage</a>
            <span class="count">4</span>
        </li>
        
        <li>
            <a href="/tags/testing/" class="tag-link">Testing</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/trace/" class="tag-link">Trace</a>
            <span class="count">4</span>
        </li>
        
        <li>
            <a href="/tags/tracing/" class="tag-link">Tracing</a>
            <span class="count">12</span>
        </li>
        
        <li>
            <a href="/tags/tutorial/" class="tag-link">Tutorial</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/user-manual/" class="tag-link">User Manual</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/video/" class="tag-link">Video</a>
            <span class="count">8</span>
        </li>
        
        <li>
            <a href="/tags/web-performance/" class="tag-link">Web-performance</a>
            <span class="count">1</span>
        </li>
        
    </ul>
</div>



            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#background">Background</a></li>
        <li><a href="#deploy-skywalking">Deploy SkyWalking</a>
          <ul>
            <li><a href="#integration-in-rails-projects">Integration in Rails Projects</a></li>
            <li><a href="#integration-in-sinatra-projects">Integration in Sinatra Projects</a></li>
          </ul>
        </li>
        <li><a href="#application-deployment">Application Deployment</a></li>
        <li><a href="#visualization-on-skywalking-ui">Visualization on SkyWalking UI</a></li>
        <li><a href="#plugin-implementation-mechanism">Plugin Implementation Mechanism</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>
        </div>
      </div>
      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2025 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.d00d7a99f9e61382b1db35fac38e0e7bdd97f8d3c663a4c4b8d02c3f1d78d894.js" integrity="sha256-0A16mfnmE4Kx2zX6w44Oe92X&#43;NPGY6TEuNAsPx142JQ=" crossorigin="anonymous"></script>


<script src="/js/highlight.min.js"></script>
<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('pre code.language-json5').forEach((block) => {
      if (block.classList.contains('language-json5')) {
        try {
          hljs.registerLanguage('json5', function(hljs) {
            return hljs.getLanguage('json');
          });
          hljs.highlightElement(block);
        } catch (error) {
          console.error("Error parsing JSON5:", error);
        }
      }
    });
  });
</script>


<script defer
src="https://widget.kapa.ai/kapa-widget.bundle.js"
data-website-id="8a08392b-9c4d-4816-8bc4-f93e0ecdd2a7"
data-project-name="SkyWalking"
data-project-color="#2B74B8"
data-button-text="Ask AI"
data-search-mode-enabled="true"
data-modal-open-on-command-k="true"
data-modal-disclaimer="The AI supports multiple languages, but it may not be accessible in China, a proxy is required."
data-project-logo="https://miro.medium.com/v2/resize:fit:2400/0*kmS-5BQ8ShAhZ_F4.jpg"
data-modal-example-questions="What is Apache SkyWalking?,How to deploy SkyWalking?,How to inject agents non-intrusively?,How to setup trace sampling?"
data-button-position-top=""
data-button-position-right="20px"
data-button-position-bottom="200px"
data-button-position-left=""
data-consent-required="true"  
data-user-analytics-cookie-enabled="true"  
data-consent-screen-title="Help us improve our AI assistant"  
data-consent-screen-disclaimer="By clicking 'Allow tracking', you consent to anonymous user tracking which helps us improve our service. We don't collect any personally identifiable information."  
data-consent-screen-accept-button-text="Allow tracking"  
data-consent-screen-reject-button-text="No, thanks"
></script>




  </body>
</html>
