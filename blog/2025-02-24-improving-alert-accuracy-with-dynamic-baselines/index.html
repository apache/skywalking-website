<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>Improving Alert Accuracy with Dynamic Baselines | Apache SkyWalking</title><meta property="og:title" content="Improving Alert Accuracy with Dynamic Baselines" />
<meta property="og:description" content="This article explores how to leverage history metrics to generate dynamic baselines for a future period, thereby enhancing the accuracy of alerts." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/2025-02-24-improving-alert-accuracy-with-dynamic-baselines/" />
<meta property="article:published_time" content="2025-02-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-02-25T10:56:41+08:00" />
<meta itemprop="name" content="Improving Alert Accuracy with Dynamic Baselines">
<meta itemprop="description" content="This article explores how to leverage history metrics to generate dynamic baselines for a future period, thereby enhancing the accuracy of alerts.">
<meta itemprop="datePublished" content="2025-02-24T00:00:00+00:00" />
<meta itemprop="dateModified" content="2025-02-25T10:56:41+08:00" />
<meta itemprop="wordCount" content="1548">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Improving Alert Accuracy with Dynamic Baselines"/>
<meta name="twitter:description" content="This article explores how to leverage history metrics to generate dynamic baselines for a future period, thereby enhancing the accuracy of alerts."/>



<link rel="preload" href="/scss/main.min.1fe260c8ca23282a8c8a99d7aac14fce66676b2720ae8855a90668565b416088.css" as="style">
<link href="/scss/main.min.1fe260c8ca23282a8c8a99d7aac14fce66676b2720ae8855a90668565b416088.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />
<link rel="stylesheet" href="/css/highlight-github.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>Improving Alert Accuracy with Dynamic Baselines | Apache SkyWalking</title>
  </head>
  <body class="td-page td-blog">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row container container-center">

          <main class="col-12 col-md-12 col-xl-10 pl-md-4 pr-md-4" role="main">
            
<div class="td-content">
	<h1>Improving Alert Accuracy with Dynamic Baselines</h1>
	<div class="lead">This article explores how to leverage history metrics to generate dynamic baselines for a future period, thereby enhancing the accuracy of alerts.</div>
	<div class="td-byline mb-4">
		By <b>Han Liu</b> |
		<time datetime="2025-02-24" class="text-muted">Monday, February 24, 2025</time>


		


	</div>
	<h2 id="background">Background</h2>
<p><a href="https://skywalking.apache.org/">Apache SkyWalking</a> is an open-source application performance monitoring (APM) system
that collects various data from business applications, including metrics, logs, and distributed tracing information,
and visualizes them through its UI.
It also allows users to configure alerting rules by setting threshold values for specific metrics in the configuration file.
When a metric associated with a particular service exceeds the predefined threshold within a given period, an alert is triggered.</p>
<p>However, in real-world scenarios, traffic patterns and invocation behaviors vary across different time periods.
For example, in a shopping system, the number of purchases is significantly lower during late-night hours compared to daytime.
As a result, system metrics fluctuate within different ranges depending on the time of day.
This makes it challenging to rely solely on static threshold values for accurate alerting.</p>
<p>Therefore, dynamically generating thresholds for each time period based on historical data becomes crucial.</p>
<h2 id="introduce-skyapm-skypredictor">Introduce SkyAPM SkyPredictor</h2>
<p>Based on the above scenario, we developed the <a href="https://github.com/SkyAPM/SkyPredictor/">SkyAPM SkyPredictor</a> project to fix this issue.
SkyAPM SkyPredictor periodically collects data from SkyWalking and generates dynamic baselines.
Meanwhile, SkyWalking queries from SkyPredictor to obtain predicted metric values for the recent period, enabling more precise and adaptive alerting.</p>
<p>NOTE: SkyWalking does not have a hard dependency on the SkyPredictor service.
If SkyPredictor is not configured, no predicted values would be retrieved, and not cause any failures in SkyWalking.
Additionally, you can use your own AI engine to build a custom prediction system. Simply implement the required protocol as outlined in the official documentation:
<a href="https://skywalking.apache.org/docs/main/next/en/setup/ai-pipeline/metrics-baseline-integration/">https://skywalking.apache.org/docs/main/next/en/setup/ai-pipeline/metrics-baseline-integration/</a></p>
<h3 id="architecture-diagram">Architecture diagram</h3>
<p><img src="./architecture.png" alt="Architecture"></p>
<p>As shown in the diagram, the process consists of two steps:</p>
<ol>
<li><strong>Data Collection &amp; Prediction</strong>: The Predictor queries history metrics from SkyWalking&rsquo;s OAP via its HTTP service.
Then processes this data to generate dynamic predicted values for a future time period.</li>
<li><strong>Baseline Query &amp; Alerting</strong>: The OAP periodically sends queries to the Predictor to fetch the predicted dynamic baseline.
Then evaluates the current metric values with prediction result using <strong>MQE</strong>. If the deviation exceeds a certain threshold, an alert is triggered.</li>
</ol>
<h3 id="data-collection">Data Collection</h3>
<p>The Predictor utilizes the following three APIs to query data:</p>
<ol>
<li><a href="https://skywalking.apache.org/docs/main/next/en/status/query_ttl_setup/"><strong>Status API</strong></a>: Retrieves the TTL (Time-to-Live) of history data stored in OAP, helping to determine the available time range for exporting all history metrics.</li>
<li><a href="https://skywalking.apache.org/docs/main/next/en/api/query-protocol/#v2-apis"><strong>Metadata API</strong></a>: Fetches the list of services within a specified Layer from OAP, providing insights into which services are generating data.</li>
<li><a href="https://skywalking.apache.org/docs/main/next/en/api/metrics-query-expression/"><strong>MQE API</strong></a>: Iterates through the required metrics and the list of services to fetch all history metrics values for each metric associated with each service.</li>
</ol>
<p>These APIs collectively enable the Predictor to gather history metrics data, which is then used to compute dynamic baselines for future alerting.</p>
<h3 id="prediction">Prediction</h3>
<p>Once the Prediction service collects data from OAP, it proceeds with forecasting using the <a href="https://github.com/facebook/prophet">open-source Prophet library</a>.
The prediction process consists of the following steps:</p>
<ol>
<li><strong>Data Preparation</strong>: The collected metric data is split into multiple <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html">DataFrames</a>, each corresponding to a unique combination of service + metric name.</li>
<li><strong>Data Sufficiency Check</strong>: If a DataFrame contains less than <strong>two days</strong> (configurable) of data, the prediction is skipped. This is to ensure accuracy, as an insufficient data volume may lead to unreliable forecasts.</li>
<li><strong>Forecasting</strong>: Using Prophet, the Predictor estimates the metric values for <strong>each hour over the next day</strong> (configurable).</li>
<li><strong>Result Storage</strong>: The generated predictions are stored in local files, enabling querying from external services.</li>
</ol>
<h4 id="predicted-value">Predicted Value</h4>
<p>The Prediction service supports calculating the following two types of values:</p>
<ol>
<li><strong>Predicted Value</strong>: Computes the expected metric value for the next hour based on history metrics data.</li>
<li><strong>Prediction Range</strong>: Determines the possible <strong>upper and lower bounds</strong> for the metric in the next hour, representing its expected fluctuation range.</li>
</ol>
<p>These values help establish a dynamic baseline, allowing the alerting system to account for natural variations while accurately detecting anomalies.</p>
<h3 id="baseline-mqe-with-alarm">Baseline MQE with Alarm</h3>
<p>In OAP, predicted values can be queried directly using an MQE within MQE operation. This operation enables retrieving forecasted values for a future time period.</p>
<p>Since SkyWalking&rsquo;s alerting system already supports query through MQE expressions, users can configure alerts directly in the alerting configuration file using MQE.</p>
<p>For more details, please refer to the <a href="https://skywalking.apache.org/docs/main/next/en/api/metrics-query-expression/#baseline-operation">official documentation</a>.</p>
<h3 id="impact-of-data-collection-on-prediction-accuracy">Impact of Data Collection on Prediction Accuracy</h3>
<p>The Predictor service supports two different data collection and prediction granularity, each with its own trade-offs in accuracy and resource consumption.</p>
<ol>
<li>Minute Level: Collects minutes level metrics data.
<ol>
<li>More effective for metrics with high fluctuations, as it captures finer details.</li>
<li>Consumes more resources (OAP, DB CPU and System Load resources, Predictor CPU and Memory resources).</li>
<li>Alerts are configured based on current value comparisons.</li>
</ol>
</li>
<li>Hour Level: Collects hourly metrics data.
<ol>
<li>Less resource-intensive compared to minute-level collection.</li>
<li>Less data volume, resource, and processing cost.</li>
<li>Alerts are configured based on predicted range values.</li>
</ol>
</li>
</ol>
<table>
<thead>
<tr>
<th>Granularity</th>
<th>Data Fluctuation</th>
<th>Data Volume</th>
<th>Current Value Prediction Accuracy</th>
<th>Range Prediction Accuracy</th>
<th>Best Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minute</td>
<td>Higher fluctuation</td>
<td>Large</td>
<td>Less accurate</td>
<td>More accurate</td>
<td>Ideal for highly fluctuating metrics, using range-based alerting rules</td>
</tr>
<tr>
<td>Hour</td>
<td>Lower fluctuation</td>
<td>Small</td>
<td>More accurate</td>
<td>Relatively accurate</td>
<td>Suitable for stable metrics, using current value-based predictions</td>
</tr>
</tbody>
</table>
<p>Choosing the appropriate granularity depends on the nature of the metric and the desired alerting method.
For metrics with high volatility, minute-level collection provides better accuracy when using range-based alerts.
For stable metrics, hourly aggregation is sufficient and allows for efficient predictions using current-value comparisons.</p>
<p>Predict use Hourly level by default.</p>
<h3 id="oap-and-predictor-scheduling--caching">OAP and Predictor Scheduling &amp; Caching</h3>
<p>Both SkyWalking OAP and SkyAPM Predictor implement caching strategies to prevent excessive execution and optimize resource usage.</p>
<p>By default, Predictor runs at 00:10, 08:10, and 16:10 every day. It forecasts the next 24 hours and stores the results locally.
Updating predictions every 8 hours balances resource efficiency and real-time accuracy. The 10-minute delay
(instead of running at exactly 00:00, 08:00, etc.) ensures historical data is fully written to the database before querying.</p>
<p>OAP queries Predictor for all required predicted metrics of a single service. The query covers a ±24-hour time range from the current moment.
Results are cached for one hour to reduce redundant queries and improve efficiency.</p>
<p>These mechanisms ensure that predictions remain up-to-date, while minimizing unnecessary processing and system load.</p>
<h2 id="demo">Demo</h2>
<p>In this section, I will demonstrate how to preview the predicted values of a metric by deploying a SkyWalking cluster along with the Predictor service
in a Kubernetes cluster. This hands-on example will help you understand how to use these components effectively.</p>
<h3 id="deploy-skywalking-showcase">Deploy SkyWalking Showcase</h3>
<p>SkyWalking Showcase contains a complete set of example services and can be monitored using SkyWalking.
For more information, please check the <a href="https://skywalking.apache.org/docs/skywalking-showcase/next/readme/">official documentation</a>.</p>
<p>In this demo, we only deploy the predictor service, SkyWalking OAP, and UI.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#0086b3">export</span> <span style="color:#008080">FEATURE_FLAGS</span><span style="color:#000;font-weight:bold">=</span>single-node,banyandb,baseline
make deploy.kubernetes
</code></pre></div><h3 id="import-history-data">Import History Data</h3>
<p>Since a newly deployed cluster does not contain history data,
I have created a Python script to simulate data. This allows the Predictor service to import data and generate baseline predictions for a future period.</p>
<p>Before importing data, you must expose the <code>11800</code> port of the OAP service in your Kubernetes cluster.
You can achieve this using kubectl by running the following command:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl port-forward -n skywalking-showcase   service/demo-oap 11800:11800
</code></pre></div><p>Then, you can download and run the demo script using the following command:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#998;font-style:italic"># clone and get into the demo repository</span>
git clone https://github.com/mrproliu/SkyPredictorDemo <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#0086b3">cd</span> SkyPredictorDemo
<span style="color:#998;font-style:italic"># installing dependencies</span>
make install
<span style="color:#998;font-style:italic"># import data(7 days)</span>
python3 -m client.generate localhost:11800 <span style="color:#099">7</span>
</code></pre></div><p>Finally, you can see the output in the console: <strong>Metrics send success!</strong>.</p>
<h3 id="prediction-metrics">Prediction metrics</h3>
<p>Since the Predictor service runs based on a <strong>cron schedule</strong>, it does not automatically execute immediately after data import.
To force it to collect data and perform a prediction, you can manually delete the Predictor pod, prompting Kubernetes to restart it:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl delete pod -n skywalking-showcase <span style="color:#000;font-weight:bold">$(</span>kubectl get pods -n skywalking-showcase --no-headers -o custom-columns<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;:metadata.name&#34;</span> | grep <span style="color:#d14">&#34;skywalking-predictor&#34;</span><span style="color:#000;font-weight:bold">)</span>
</code></pre></div><p>Once the Predictor pod restarts, you can check its logs to confirm that the prediction process has been completed.</p>
<pre><code>Predicted for e2e-test-dest-service of service_xxx to xxxx-xx-xx xx:xx:xx.
</code></pre><h3 id="view-in-skywalking-ui">View in SkyWalking UI</h3>
<p>Once the prediction process is complete, you can visualize the predicted values in the SkyWalking UI by configuring the appropriate metric widgets.</p>
<p>First, Run the following command to forward the UI service port to your local machine:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl port-forward svc/demo-ui 8080:80 --namespace skywalking-showcase
</code></pre></div><p>Then, you can access this page to view the service traffic that was generated using the Python script earlier:
http://localhost:8080/dashboard/MESH/Service/ZTJlLXRlc3QtZGVzdC1zZXJ2aWNl.1/Mesh-Service</p>
<p>To display predicted values, edit the Service Avg Resp Time Widget and add the following MQE:</p>
<pre><code># The maximum predicted response time.
baseline(service_resp_time, upper)
# The predicted response time.
baseline(service_resp_time, value)
# The minimum predicted response time.
baseline(service_resp_time, lower)
</code></pre><p>Finally, you can see the predicted values displayed in the widget.</p>
<p><img src="predicted_widget.png" alt="Predicted Widget"></p>
<p>Since the default data collection is hourly and the metric has significant fluctuations,
the predicted values are derived from hourly averages rather than minute-level granularity.
This approach smooths out fluctuations and provides a more stable baseline for monitoring.</p>
<p>Now, you should see the predicted response times visualized alongside actual values, helping you analyze trends and configure dynamic alerting thresholds effectively.</p>
<h2 id="conclusion">Conclusion</h2>
<p>SkyAPM SkyPredictor enhances alert accuracy by using dynamic baselines instead of static thresholds.
It collects history metrics data, forecasts future values with Prophet, and supports minute or hour-level collection for better precision.
By integrating predictions into SkyWalking UI, users can optimize alerting and improve system observability.</p>
<p>By integrating dynamic thresholds, SkyWalking can adapt to traffic patterns and detect anomalies more effectively,
reducing false positives and improving system observability.</p>

	

	<ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5">
  <li>
    <a href="/blog/2024-12-09-skywalking-async-profiler/" class="btn btn-primary "><span class="mr-1">←</span> Previous</a>
  </li>
    <a  class="btn btn-primary  disabled">Next <span class="ml-1">→</span></a>
  </li>
</ul>

</div>


          </main>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">

            <div class="tags-wrapper">
    <div class="font-weight-bold post-meta ">
        <i class="iconfont icon-tags pr-1" aria-hidden="true"></i>
        Tags
    </div>
    <ul class="tags-box">
        
        <li>
            <a href="/tags/activemq/" class="tag-link">ActiveMQ</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/agent/" class="tag-link">Agent</a>
            <span class="count">10</span>
        </li>
        
        <li>
            <a href="/tags/apache-shenyu-incubating/" class="tag-link">Apache ShenYu (incubating)</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/apisix/" class="tag-link">APISIX</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/apm/" class="tag-link">APM</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/arthas/" class="tag-link">Arthas</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/aurora/" class="tag-link">Aurora</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/aws/" class="tag-link">AWS</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/banyandb/" class="tag-link">BanyanDB</a>
            <span class="count">4</span>
        </li>
        
        <li>
            <a href="/tags/browser/" class="tag-link">Browser</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/chaos-engineering/" class="tag-link">Chaos Engineering</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/chaos-mesh/" class="tag-link">Chaos Mesh</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/clickhouse/" class="tag-link">ClickHouse</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/conference/" class="tag-link">Conference</a>
            <span class="count">6</span>
        </li>
        
        <li>
            <a href="/tags/database/" class="tag-link">Database</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/demo/" class="tag-link">Demo</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/design/" class="tag-link">Design</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/dotnetcore/" class="tag-link">DotNetCore</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/ebpf/" class="tag-link">eBPF</a>
            <span class="count">8</span>
        </li>
        
        <li>
            <a href="/tags/golang/" class="tag-link">Golang</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/grafana/" class="tag-link">Grafana</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/http/" class="tag-link">HTTP</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/infrastructure-monitoring/" class="tag-link">Infrastructure Monitoring</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/iotdb/" class="tag-link">IoTDB</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/istio/" class="tag-link">Istio</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/java/" class="tag-link">Java</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/kafka/" class="tag-link">Kafka</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/kong/" class="tag-link">Kong</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/kubernetes/" class="tag-link">Kubernetes</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/lal/" class="tag-link">LAL</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/license/" class="tag-link">License</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/logging/" class="tag-link">Logging</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/logs/" class="tag-link">Logs</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/metric/" class="tag-link">Metric</a>
            <span class="count">6</span>
        </li>
        
        <li>
            <a href="/tags/metrics/" class="tag-link">Metrics</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/nginx/" class="tag-link">Nginx</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/observability/" class="tag-link">Observability</a>
            <span class="count">10</span>
        </li>
        
        <li>
            <a href="/tags/ospp/" class="tag-link">OSPP</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/performance/" class="tag-link">Performance</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/profiling/" class="tag-link">Profiling</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/promql/" class="tag-link">PromQL</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/python/" class="tag-link">Python</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/r3/" class="tag-link">R3</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/rds/" class="tag-link">RDS</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/release-blog/" class="tag-link">Release Blog</a>
            <span class="count">8</span>
        </li>
        
        <li>
            <a href="/tags/restful/" class="tag-link">RESTFul</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/rocketmq/" class="tag-link">RocketMQ</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/satellite/" class="tag-link">Satellite</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/service-hierarchy/" class="tag-link">Service Hierarchy</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/service-mesh/" class="tag-link">Service Mesh</a>
            <span class="count">6</span>
        </li>
        
        <li>
            <a href="/tags/sharding-sphere/" class="tag-link">Sharding-Sphere</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/sharding-sphere-proxy/" class="tag-link">Sharding-Sphere-proxy</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/skywalking/" class="tag-link">SkyWalking</a>
            <span class="count">5</span>
        </li>
        
        <li>
            <a href="/tags/spring/" class="tag-link">Spring</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/storage/" class="tag-link">Storage</a>
            <span class="count">4</span>
        </li>
        
        <li>
            <a href="/tags/testing/" class="tag-link">Testing</a>
            <span class="count">3</span>
        </li>
        
        <li>
            <a href="/tags/trace/" class="tag-link">Trace</a>
            <span class="count">4</span>
        </li>
        
        <li>
            <a href="/tags/tracing/" class="tag-link">Tracing</a>
            <span class="count">10</span>
        </li>
        
        <li>
            <a href="/tags/tutorial/" class="tag-link">Tutorial</a>
            <span class="count">1</span>
        </li>
        
        <li>
            <a href="/tags/user-manual/" class="tag-link">User Manual</a>
            <span class="count">2</span>
        </li>
        
        <li>
            <a href="/tags/video/" class="tag-link">Video</a>
            <span class="count">8</span>
        </li>
        
        <li>
            <a href="/tags/web-performance/" class="tag-link">Web-performance</a>
            <span class="count">1</span>
        </li>
        
    </ul>
</div>



            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#background">Background</a></li>
        <li><a href="#introduce-skyapm-skypredictor">Introduce SkyAPM SkyPredictor</a>
          <ul>
            <li><a href="#architecture-diagram">Architecture diagram</a></li>
            <li><a href="#data-collection">Data Collection</a></li>
            <li><a href="#prediction">Prediction</a></li>
            <li><a href="#baseline-mqe-with-alarm">Baseline MQE with Alarm</a></li>
            <li><a href="#impact-of-data-collection-on-prediction-accuracy">Impact of Data Collection on Prediction Accuracy</a></li>
            <li><a href="#oap-and-predictor-scheduling--caching">OAP and Predictor Scheduling &amp; Caching</a></li>
          </ul>
        </li>
        <li><a href="#demo">Demo</a>
          <ul>
            <li><a href="#deploy-skywalking-showcase">Deploy SkyWalking Showcase</a></li>
            <li><a href="#import-history-data">Import History Data</a></li>
            <li><a href="#prediction-metrics">Prediction metrics</a></li>
            <li><a href="#view-in-skywalking-ui">View in SkyWalking UI</a></li>
          </ul>
        </li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>
        </div>
      </div>
      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2025 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    





































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.d00d7a99f9e61382b1db35fac38e0e7bdd97f8d3c663a4c4b8d02c3f1d78d894.js" integrity="sha256-0A16mfnmE4Kx2zX6w44Oe92X&#43;NPGY6TEuNAsPx142JQ=" crossorigin="anonymous"></script>


<script src="/js/highlight.min.js"></script>
<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('pre code.language-json5').forEach((block) => {
      if (block.classList.contains('language-json5')) {
        try {
          hljs.registerLanguage('json5', function(hljs) {
            return hljs.getLanguage('json');
          });
          hljs.highlightElement(block);
        } catch (error) {
          console.error("Error parsing JSON5:", error);
        }
      }
    });
  });
</script>





  </body>
</html>
