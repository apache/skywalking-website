<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-GR8N6PGRJ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);};
  gtag('js', new Date());gtag('config', 'G-GR8N6PGRJ3');
</script>
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>Data Model | Apache SkyWalking</title><meta property="og:title" content="Data Model" />
<meta property="og:description" content="Data Model This chapter introduces BanyanDB&rsquo;s data models and covers the following:
 the high-level data organization data model data retrieval  You can also find examples of how to interact with BanyanDB using bydbctl, how to create and drop groups, or how to create, read, update and drop streams/measures.
Structure of BanyanDB The hierarchy that data is organized into streams, measures and properties in groups.
Groups Group does not provide a mechanism for isolating groups of resources within a single banyand-server but is the minimal unit to manage physical structures." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/skywalking-banyandb/latest/concept/data-model/" />

<meta itemprop="name" content="Data Model">
<meta itemprop="description" content="Data Model This chapter introduces BanyanDB&rsquo;s data models and covers the following:
 the high-level data organization data model data retrieval  You can also find examples of how to interact with BanyanDB using bydbctl, how to create and drop groups, or how to create, read, update and drop streams/measures.
Structure of BanyanDB The hierarchy that data is organized into streams, measures and properties in groups.
Groups Group does not provide a mechanism for isolating groups of resources within a single banyand-server but is the minimal unit to manage physical structures.">

<meta itemprop="wordCount" content="2142">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Data Model"/>
<meta name="twitter:description" content="Data Model This chapter introduces BanyanDB&rsquo;s data models and covers the following:
 the high-level data organization data model data retrieval  You can also find examples of how to interact with BanyanDB using bydbctl, how to create and drop groups, or how to create, read, update and drop streams/measures.
Structure of BanyanDB The hierarchy that data is organized into streams, measures and properties in groups.
Groups Group does not provide a mechanism for isolating groups of resources within a single banyand-server but is the minimal unit to manage physical structures."/>



<link rel="preload" href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" as="style">
<link href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>Data Model | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none scroll-bar td-sidebar">






































                  <div class="description-wrapper">
                    <h5>
                    <img width="26" height="26" src="/images/project/banyan-db.svg">
                    BanyanDB
                    </h5>
                    <p>An observability database aims to ingest, analyze and store Metrics, Tracing and Logging data.</p>
                  </div>
                  
                  <div class="version-wrapper">Version: 
                  <select class="version-select">
                  
                    
                    
                    <option ZgotmplZ value="next">
                    
                      next
                    
                    </option>
                  
                    
                    
                    <option selected value="latest">
                    
                      latest
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v0.5.0">
                    
                      v0.5.0
                    
                    </option>
                  
                  </select>
                  </div>
                  
                  <ul class="sidebar-menu">
    
    <li>
        
            <a href="/docs/skywalking-banyandb/latest/readme">Welcome</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Installation<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/installation/binaries">Get Binaries</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/installation/standalone">Standalone Mode</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/installation/cluster">Cluster Mode</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Concept<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/concept/data-model">Data Model</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/concept/clustering">Clustering</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/concept/tsdb">TSDB</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">CRUD Operations<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/group">Group</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Measure<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/measure/schema">Schema</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/measure/query">Query</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Stream<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/stream/schema">Schema</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/stream/query">Query</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/index_rule">IndexRule</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/index_rule_binding">IndexRuleBinding</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/latest/crud/property">Property</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="/docs/skywalking-banyandb/latest/clients">Clients</a>
        
    </li>
    
    <li>
        
            <a href="/docs/skywalking-banyandb/latest/observability">Observability</a>
        
    </li>
    
</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>

                  <div class="commit-id">Commit Id: 84f32b3</div>
                





</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="iconfont icon-menu-doc doc-menu-button"></i>
              
<div class="td-content">











	<h1 id="data-model">Data Model</h1>
<p>This chapter introduces BanyanDB&rsquo;s data models and covers the following:</p>
<ul>
<li>the high-level data organization</li>
<li>data model</li>
<li>data retrieval</li>
</ul>
<p>You can also find <a href="../../crud/">examples</a> of how to interact with BanyanDB using <a href="../../clients#command-line">bydbctl</a>, how to create and drop groups, or how to create, read, update and drop streams/measures.</p>
<h2 id="structure-of-banyandb">Structure of BanyanDB</h2>
<p>The hierarchy that data is organized into <strong>streams</strong>, <strong>measures</strong> and <strong>properties</strong> in groups.</p>
<p><img src="https://skywalking.apache.org/doc-graph/banyandb/v0.2.0/structure.png" alt="Structure of BanyanDB"></p>
<h3 id="groups">Groups</h3>
<p><code>Group</code> does not provide a mechanism for isolating groups of resources within a single banyand-server but is the minimal unit to manage physical structures. Each group contains a set of options, like retention policy, shard number, etc. Several shards distribute in a group.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>others<span style="color:#bbb">
</span></code></pre></div><p>or</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>sw_metric<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">catalog</span>:<span style="color:#bbb"> </span>CATALOG_MEASURE<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">resource_opts</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">shard_num</span>:<span style="color:#bbb"> </span><span style="color:#099">2</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">block_interval</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">unit</span>:<span style="color:#bbb"> </span>UNIT_HOUR<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">num</span>:<span style="color:#bbb"> </span><span style="color:#099">2</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">segment_interval</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">unit</span>:<span style="color:#bbb"> </span>UNIT_DAY<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">num</span>:<span style="color:#bbb"> </span><span style="color:#099">1</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">ttl</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">unit</span>:<span style="color:#bbb"> </span>UNIT_DAY<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">num</span>:<span style="color:#bbb"> </span><span style="color:#099">7</span><span style="color:#bbb">
</span></code></pre></div><p>The group creates two shards to store data points. Every day, it would create a segment that will generate a block every 2 hours. The available units are <code>HOUR</code> and <code>DAY</code>. The data in this group will keep 7 days.</p>
<p>Every other resource should belong to a group. The <code>catalog</code> indicates which kind of data model the group contains.</p>
<ul>
<li><code>UNSPECIFIED</code>: <code>Property</code> or other data models.</li>
<li><code>MEASURE</code>: <a href="#streams"><code>Measure</code></a>.</li>
<li><code>STREAM</code>: <a href="#measures"><code>Stream</code></a>.</li>
</ul>
<p><a href="../../api-reference#groupregistryservice">Group Registration Operations</a></p>
<h3 id="measures">Measures</h3>
<p>BanyanDB lets you define a measure as follows:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>service_cpm_minute<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw_metric<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">tag_families</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>default<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">tags</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">type</span>:<span style="color:#bbb"> </span>TAG_TYPE_STRING<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>entity_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">type</span>:<span style="color:#bbb"> </span>TAG_TYPE_STRING<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">fields</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>total<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">field_type</span>:<span style="color:#bbb"> </span>FIELD_TYPE_INT<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">encoding_method</span>:<span style="color:#bbb"> </span>ENCODING_METHOD_GORILLA<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">compression_method</span>:<span style="color:#bbb"> </span>COMPRESSION_METHOD_ZSTD<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>value<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">field_type</span>:<span style="color:#bbb"> </span>FIELD_TYPE_INT<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">encoding_method</span>:<span style="color:#bbb"> </span>ENCODING_METHOD_GORILLA<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">compression_method</span>:<span style="color:#bbb"> </span>COMPRESSION_METHOD_ZSTD<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">entity</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">tag_names</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- entity_id<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">interval</span>:<span style="color:#bbb"> </span>1m<span style="color:#bbb">
</span></code></pre></div><p><code>Measure</code> consists of a sequence of data points. Each data point contains tags and fields.</p>
<p><code>Tags</code> are key-value pairs. The database engine can index tag values by referring to the index rules and rule bindings, confining the query to filtering data points based on tags bound to an index rule.</p>
<p><code>Tags</code> are grouped into unique <code>tag_families</code> which are the logical and physical grouping of tags.</p>
<p><code>Measure</code> supports the following tag types:</p>
<ul>
<li><strong>STRING</strong> : Text</li>
<li><strong>INT</strong> : 64 bits long integer</li>
<li><strong>STRING_ARRAY</strong> : A group of strings</li>
<li><strong>INT_ARRAY</strong> : A group of integers</li>
<li><strong>DATA_BINARY</strong> : Raw binary</li>
</ul>
<p>A group of selected tags composite an <code>entity</code> that points out a specific time series the data point belongs to. The database engine has capacities to encode and compress values in the same time series. Users should select appropriate tag combinations to optimize the data size. Another role of <code>entity</code> is the sharding key of data points, determining how to fragment data between shards.</p>
<p><code>Fields</code> are also key-value pairs like tags. But the value of each field is the actual value of a single data point. The database engine would encode and compress the field&rsquo;s values in the same time series. The query operation is forbidden to filter data points based on a field&rsquo;s value. You could apply aggregation
functions to them.</p>
<p><code>Measure</code> supports the following fields types:</p>
<ul>
<li><strong>STRING</strong> : Text</li>
<li><strong>INT</strong> : 64 bits long integer</li>
<li><strong>DATA_BINARY</strong> : Raw binary</li>
<li><strong>FLOAT</strong> : 64 bits double-precision floating-point number</li>
</ul>
<p><code>Measure</code> supports the following encoding methods:</p>
<ul>
<li><strong>GORILLA</strong> : GORILLA encoding is lossless. It is more suitable for a numerical sequence with similar values and is not recommended for sequence data with large fluctuations.</li>
</ul>
<p><code>Measure</code> supports the types of the following fields:</p>
<ul>
<li><strong>ZSTD</strong> : Zstandard is a real-time compression algorithm, that provides high compression ratios. It offers a very wide range of compression/speed trade-offs, while being backed by a very fast decoder. For BanyanDB focus on speed.</li>
</ul>
<p>Another option named <code>interval</code> plays a critical role in encoding. It indicates the time range between two adjacent data points in a time series and implies that all data points belonging to the same time series are distributed based on a fixed interval. A better practice for the naming measure is to append the interval literal to the tail, for example, <code>service_cpm_minute</code>. It&rsquo;s a parameter of <code>GORILLA</code> encoding method.</p>
<p><a href="../../api-reference#measureregistryservice">Measure Registration Operations</a></p>
<h4 id="topnaggregation">TopNAggregation</h4>
<p>Find the Top-N entities from a dataset in a time range is a common scenario. We could see the diagrams like &ldquo;Top 10 throughput endpoints&rdquo;, and &ldquo;Most slow 20 endpoints&rdquo;, etc on SkyWalking&rsquo;s UI. Exploring and analyzing the top entities can always reveal some high-value information.</p>
<p>BanyanDB introduces the <code>TopNAggregation</code>, aiming to pre-calculate the top/bottom entities during the measure writing phase. In the query phase, BanyanDB can quickly retrieve the top/bottom records. The performance would be much better than <code>top()</code> function which is based on the query phase aggregation procedure.</p>
<blockquote>
<p>Caveat: <code>TopNAggregation</code> is an approximate realization, to use it well you need have a good understanding with the algorithm as well as the data distribution.</p>
</blockquote>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#555">---</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_cpm_minute_top_bottom<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw_metric<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">source_measure</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_cpm_minute<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw_metric<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">field_name</span>:<span style="color:#bbb"> </span>value<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">field_value_sort</span>:<span style="color:#bbb"> </span>SORT_UNSPECIFIED<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">group_by_tag_names</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- entity_id<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">counters_number</span>:<span style="color:#bbb"> </span><span style="color:#099">10000</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">lru_size</span>:<span style="color:#bbb"> </span><span style="color:#099">10</span><span style="color:#bbb">
</span></code></pre></div><p><code>endpoint_cpm_minute_top_bottom</code> is watching the data ingesting of the source measure <code>endpoint_cpm_minute</code> to generate both top 1000 and bottom 1000 entity cardinalities. If only Top 1000 or Bottom 1000 is needed, the <code>field_value_sort</code> could be <code>DESC</code> or <code>ASC</code> respectively.</p>
<ul>
<li>SORT_DESC: Top-N. In a series of <code>1,2,3...1000</code>. Top10&rsquo;s result is <code>1000,999...991</code>.</li>
<li>SORT_ASC: Bottom-N. In a series of <code>1,2,3...1000</code>. Bottom10&rsquo;s result is <code>1,2...10</code>.</li>
</ul>
<p>Tags in <code>group_by_tag_names</code> are used as dimensions. These tags can be searched (only equality is supported) in the query phase. Tags do not exist in <code>group_by_tag_names</code> will be dropped in the pre-calculating phase.</p>
<p><code>counters_number</code> denotes the number of entity cardinality. As the above example shows, calculating the Top 100 among 10 thousands is easier than among 10 millions.</p>
<p><code>lru_size</code> is a late data optimizing flag. The higher the number, the more late data, but the more memory space is consumed.</p>
<p><a href="../../api-reference#topnaggregationregistryservice">TopNAggregation Registration Operations</a></p>
<h3 id="streams">Streams</h3>
<p><code>Stream</code> shares many details with <code>Measure</code> except for abandoning <code>field</code>. Stream focuses on high throughput data collection, for example, tracing and logging. The database engine also supports compressing stream entries based on <code>entity</code>, but no encoding process is involved.</p>
<p><a href="../../api-reference#streamregistryservice">Stream Registration Operations</a></p>
<h3 id="properties">Properties</h3>
<p><code>Property</code> is a schema-less or schema-free data model. That means you <strong>DO NOT</strong> have to define a schema before writing a Property</p>
<p><code>Property</code> is a standard key-value store. Users could store their metadata or items on a property and get a <a href="https://en.wikipedia.org/wiki/Consistency_model#Sequential_consistency">sequential consistency</a> guarantee. BanyanDB&rsquo;s motivation for introducing such a particular structure is to support most APM scenarios that need to store critical data, especially for a distributed database cluster.</p>
<p>We should create a group before creating a property.</p>
<p>Creating group.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>sw<span style="color:#bbb">
</span></code></pre></div><p>Creating property.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">container</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>temp_data<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">id</span>:<span style="color:#bbb"> </span>General-Service<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">tags</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">key</span>:<span style="color:#bbb"> </span>name<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">value</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">str</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">value</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;hello&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">key</span>:<span style="color:#bbb"> </span>state<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">value</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">str</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">value</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;succeed&#34;</span><span style="color:#bbb">
</span></code></pre></div><p><code>Property</code> supports a three-level hierarchy, <code>group</code>/<code>name</code>/<code>id</code>, that is more flexible than schemaful data models.</p>
<p>The property supports the TTL mechanism. You could set the <code>ttl</code> field to specify the time to live.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">container</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>temp_data<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">id</span>:<span style="color:#bbb"> </span>General-Service<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">tags</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">key</span>:<span style="color:#bbb"> </span>name<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">value</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">str</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">value</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;hello&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">key</span>:<span style="color:#bbb"> </span>state<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">value</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">str</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">value</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;succeed&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#34;1h&#34;</span><span style="color:#bbb">
</span></code></pre></div><p>&ldquo;General-Service&rdquo; will be dropped after 1 hour. If you want to extend the TTL, you could use the &ldquo;keepalive&rdquo; operation. The &ldquo;lease_id&rdquo; is returned in the apply response. You can use get operation to get the property with the lease_id as well.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">lease_id</span>:<span style="color:#bbb"> </span><span style="color:#099">1</span><span style="color:#bbb">
</span></code></pre></div><p>&ldquo;General-Service&rdquo; lives another 1 hour.</p>
<p>You could Create, Read, Update and Drop a property, and update or drop several tags instead of the entire property.</p>
<p><a href="../../api-reference#propertyservice">Property Operations</a></p>
<h2 id="data-models">Data Models</h2>
<p>Data models in BanyanDB derive from some classic data models.</p>
<h3 id="timeseries-model">TimeSeries Model</h3>
<p>A time series is a series of data points indexed in time order. Most commonly, a time series is a sequence taken at successive equally spaced points in time. Thus it is a sequence of discrete-time data.</p>
<p>You can store time series data points through <code>Stream</code> or <code>Measure</code>. Examples of <code>Stream</code> are logs, traces and events. <code>Measure</code> could ingest metrics, profiles, etc.</p>
<h3 id="key-value-model">Key-Value Model</h3>
<p>The key-value data model is a subset of the <code>Property</code> data model. Every property has a key <code>&lt;group&gt;/&lt;name&gt;/&lt;id&gt;</code> that identifies a property within a collection. This key acts as the primary key to retrieve the data. You can set it when creating a key. It cannot be changed later because the attribute is immutable.</p>
<p>There are several Key-Value pairs in a property, named <code>Tags</code>. You could add, update and drop them based on the tag&rsquo;s key.</p>
<h2 id="data-retrieval">Data Retrieval</h2>
<p><code>Queries</code> and <code>Writes</code> are used to filter schemaful data models, <code>Stream</code>, <code>Measure</code> or <code>TopNAggregation</code> based on certain criteria, as well as to compute or store new data.</p>
<ul>
<li><code>MeasureService</code> provides <code>Write</code>, <code>Query</code> and <code>TopN</code></li>
<li><code>StreamService</code> provides <code>Write</code>, <code>Query</code></li>
</ul>
<h3 id="indexrule--indexrulebinding">IndexRule &amp; IndexRuleBinding</h3>
<p>An <code>IndexRule</code> indicates which tags are indexed. An <code>IndexRuleBinding</code> binds an index rule to the target resources or the <code>subject</code>. There might be several rule bindings to a single resource, but their effective time range could NOT overlap.</p>
<p><img src="https://skywalking.apache.org/doc-graph/banyandb/v0.2.0/index-binding.png" alt="Index binding"></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>trace_id<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw_stream<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">tags</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- trace_id<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">type</span>:<span style="color:#bbb"> </span>TYPE_TREE<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">location</span>:<span style="color:#bbb"> </span>LOCATION_GLOBAL<span style="color:#bbb">
</span></code></pre></div><p>IndexRule supports selecting two distinct kinds of index structures. The <code>INVERTED</code> index is the primary option when users set up an index rule. It&rsquo;s suitable for most tag indexing due to a better memory usage ratio and query performance. When there are many unique tag values here, such as the <code>ID</code> tag and numeric duration tag, the <code>TREE</code> index could be better. This index saves much memory space with high-cardinality data sets.</p>
<p>Most IndexRule&rsquo;s location is <code>LOCAL</code> which places indices with their indexed data together. IndexRule also provides a <code>GLOBAL</code> location to place some indices on a higher layer of hierarchical structure. This option intends to optimize the full-scan operation for some querying cases of no time range specification, such as finding spans from a trace by <code>trace_id</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>stream_binding<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">group</span>:<span style="color:#bbb"> </span>sw_stream<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">rules</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- trace_id<span style="color:#bbb">
</span><span style="color:#bbb"></span>- duration<span style="color:#bbb">
</span><span style="color:#bbb"></span>- endpoint_id<span style="color:#bbb">
</span><span style="color:#bbb"></span>- status_code<span style="color:#bbb">
</span><span style="color:#bbb"></span>- http.method<span style="color:#bbb">
</span><span style="color:#bbb"></span>- db.instance<span style="color:#bbb">
</span><span style="color:#bbb"></span>- db.type<span style="color:#bbb">
</span><span style="color:#bbb"></span>- mq.broker<span style="color:#bbb">
</span><span style="color:#bbb"></span>- mq.queue<span style="color:#bbb">
</span><span style="color:#bbb"></span>- mq.topic<span style="color:#bbb">
</span><span style="color:#bbb"></span>- extended_tags<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">subject</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">catalog</span>:<span style="color:#bbb"> </span>CATALOG_STREAM<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">name</span>:<span style="color:#bbb"> </span>sw<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">begin_at</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;2021-04-15T01:30:15.01Z&#39;</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">expire_at</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;2121-04-15T01:30:15.01Z&#39;</span><span style="color:#bbb">
</span></code></pre></div><p>IndexRuleBinding binds IndexRules to a subject, <code>Stream</code> or <code>Measure</code>. The time range between <code>begin_at</code> and <code>expire_at</code> is the effective time.</p>
<p><a href="../../api-reference#indexruleregistryservice">IndexRule Registration Operations</a></p>
<p><a href="../../api-reference#indexrulebindingregistryservice">IndexRuleBinding Registration Operations</a></p>
<h3 id="index-granularity">Index Granularity</h3>
<p>In BanyanDB, <code>Stream</code> and <code>Measure</code> have different levels of index granularity.</p>
<p>For <code>Measure</code>, the indexed target is a data point with specific tag values. The query processor uses the tag values defined in the <code>entity</code> field of the Measure to compose a series ID, which is used to find the several series that match the query criteria. The <code>entity</code> field is a set of tags that defines the unique identity of a time series, and it restricts the tags that can be used as indexed target.</p>
<p>Each series contains a sequence of data points that share the same tag values. Once the query processor has identified the relevant series, it scans the data points between the desired time range in those series to find the data that matches the query criteria.</p>
<p>For example, suppose we have a <code>Measure</code> with the following <code>entity</code> field: <code>{service, operation, instance}</code>. If we get a data point with the following tag values: <code>service=shopping</code>, <code>operation=search</code>, and <code>instance=prod-1</code>, then the query processor would use those tag values to construct a series ID that uniquely identifies the series containing that data point. The query processor would then scan the relevant data points in that series to find the data that matches the query criteria.</p>
<p>The side effect of the measure index is that each indexed value has to represent a unique seriesID. This is because the series ID is constructed by concatenating the indexed tag values in the <code>entity</code> field. If two series have the same <code>entity</code> field, they would have the same series ID and would be indistinguishable from one another. This means that if you want to index a tag that is not part of the <code>entity</code> field, you would need to ensure that it is unique across all series. One way to do this would be to include the tag in the <code>entity</code> field, but this may not always be feasible or desirable depending on your use case.</p>
<p>For <code>Stream</code>, the indexed target is an element that is a combination of the series ID and timestamp. The <code>Stream</code> query processor uses the time range to find target files. The indexed result points to the target element. The processor doesn&rsquo;t have to scan a series of elements in this time range, which reduces the query time.</p>
<p>For example, suppose we have a <code>Stream</code> with the following tags: <code>service</code>, <code>operation</code>, <code>instance</code>, and <code>status_code</code>. If we get a data point with the following tag values: <code>service=shopping</code>, <code>operation=search</code>, <code>instance=prod-1</code>, and <code>status_code=200</code>, and the data point&rsquo;s time is 1:00pm on January 1st, 2022, then the series ID for this data point would be <code>shopping_search_prod-1_200_1641052800</code>, where <code>1641052800</code> is the Unix timestamp representing 1:00pm on January 1st, 2022.</p>
<p>The indexed target would be the combination of the series ID and timestamp, which in this case would be <code>shopping_search_prod-1_200_1641052800</code>. The <code>Stream</code> query processor would use the time range specified in the query to find target files and then search within those files for the indexed target.</p>
<p>The following is a comparison of the indexing granularity, performance, and flexibility of <code>Stream</code> and <code>Measure</code> indices:</p>
<table>
<thead>
<tr>
<th>Indexing Granularity</th>
<th>Performance</th>
<th>Flexibility</th>
</tr>
</thead>
<tbody>
<tr>
<td>Measure indices are constructed for each series and are based on the entity field of the Measure. Each indexed value has to represent a unique seriesID.</td>
<td>Measure index is faster than Stream index.</td>
<td>Measure index is less flexible and requires more care when indexing tags that are not part of the entity field.</td>
</tr>
<tr>
<td>Stream indices are constructed for each element and are based on the series ID and timestamp.</td>
<td>Stream index is slower than Measure index.</td>
<td>Stream index is more flexible than Measure index and can index any tag value.</td>
</tr>
</tbody>
</table>
<p>In general, <code>Measure</code> indices are faster and more efficient, but they require more care when indexing tags that are not part of the <code>entity</code> field. <code>Stream</code> indices, on the other hand, are slower and take up more space, but they can index any tag value and do not have the same side effects as <code>Measure</code> indices.</p>




</div>


            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#data-model">Data Model</a>
      <ul>
        <li><a href="#structure-of-banyandb">Structure of BanyanDB</a>
          <ul>
            <li><a href="#groups">Groups</a></li>
            <li><a href="#measures">Measures</a></li>
            <li><a href="#streams">Streams</a></li>
            <li><a href="#properties">Properties</a></li>
          </ul>
        </li>
        <li><a href="#data-models">Data Models</a>
          <ul>
            <li><a href="#timeseries-model">TimeSeries Model</a></li>
            <li><a href="#key-value-model">Key-Value Model</a></li>
          </ul>
        </li>
        <li><a href="#data-retrieval">Data Retrieval</a>
          <ul>
            <li><a href="#indexrule--indexrulebinding">IndexRule &amp; IndexRuleBinding</a></li>
            <li><a href="#index-granularity">Index Granularity</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2024 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    





















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.dc00f5ca911ee5aa105ea6de6b3b7e8d8169ba5a3bf156b1fcfe23dfe3e62b0a.js" integrity="sha256-3AD1ypEe5aoQXqbeazt&#43;jYFpulo78Vax/P4j3&#43;PmKwo=" crossorigin="anonymous"></script>


<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>


<script defer
src="https://widget.kapa.ai/kapa-widget.bundle.js"
data-website-id="8a08392b-9c4d-4816-8bc4-f93e0ecdd2a7"
data-project-name="SkyWalking"
data-project-color="#2B74B8"
data-button-text="Ask AI"
data-search-mode-enabled="true"
data-modal-open-on-command-k="true"
data-modal-disclaimer="The AI supports multiple languages, but it may not be accessible in China, a proxy is required."
data-project-logo="https://miro.medium.com/v2/resize:fit:2400/0*kmS-5BQ8ShAhZ_F4.jpg"
data-modal-example-questions="What is Apache SkyWalking?,How to deploy SkyWalking?,How to inject agents non-intrusively?,How to setup trace sampling?"
data-button-position-top=""
data-button-position-right="20px"
data-button-position-bottom="200px"
data-button-position-left=""
></script>




  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val().toLowerCase();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
