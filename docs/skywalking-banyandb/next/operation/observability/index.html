<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>Observability | Apache SkyWalking</title><meta property="og:title" content="Observability" />
<meta property="og:description" content="Observability This document outlines the observability features of BanyanDB, which include metrics, profiling, and tracing. These features help monitor and understand the performance, behavior, and overall health of BanyanDB.
Logging BanyanDB uses the zerolo library for logging. The log level can be set using the log-level flag. The supported log levels are debug, info, warn, error, and fatal. The default log level is info.
logging-env is used to set the logging environment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/skywalking-banyandb/next/operation/observability/" />

<meta itemprop="name" content="Observability">
<meta itemprop="description" content="Observability This document outlines the observability features of BanyanDB, which include metrics, profiling, and tracing. These features help monitor and understand the performance, behavior, and overall health of BanyanDB.
Logging BanyanDB uses the zerolo library for logging. The log level can be set using the log-level flag. The supported log levels are debug, info, warn, error, and fatal. The default log level is info.
logging-env is used to set the logging environment.">

<meta itemprop="wordCount" content="2163">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Observability"/>
<meta name="twitter:description" content="Observability This document outlines the observability features of BanyanDB, which include metrics, profiling, and tracing. These features help monitor and understand the performance, behavior, and overall health of BanyanDB.
Logging BanyanDB uses the zerolo library for logging. The log level can be set using the log-level flag. The supported log levels are debug, info, warn, error, and fatal. The default log level is info.
logging-env is used to set the logging environment."/>



<link rel="preload" href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" as="style">
<link href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>Observability | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none scroll-bar td-sidebar">



































                  <div class="description-wrapper">
                    <h5>
                    <img width="26" height="26" src="/images/project/banyan-db.svg">
                    BanyanDB
                    </h5>
                    <p>An observability database aims to ingest, analyze and store Metrics, Tracing and Logging data.</p>
                  </div>
                  
                  <div class="version-wrapper">Version: 
                  <select class="version-select">
                  
                    
                    
                    <option selected value="next">
                    
                      next
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="latest">
                    
                      latest
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v0.6.1">
                    
                      v0.6.1
                    
                    </option>
                  
                  </select>
                  </div>
                  
                  <ul class="sidebar-menu">
    
    <li>
        
            <a href="/docs/skywalking-banyandb/next/readme">Welcome</a>
        
    </li>
    
    <li>
        
            
            <a href="#">User Guide<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Installation<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/installation/binaries">Get Binaries</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/installation/standalone">Standalone Mode</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/installation/cluster">Cluster Mode</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/installation/docker">Installation On Docker</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/installation/kubernetes">Installation On Kubernetes</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Basic Concepts and Terminology<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/concept/data-model">Data Model</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/guides/quick-start/quick-start">Quick Start Tutorial</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Interacting<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">CLI<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/bydbctl">bydbctl</a>
        
    </li>

    

    <li>
        

            
            <a href="#">CRUD Schema<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/schema/group">Group</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/schema/measure">Measure</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/schema/stream">Stream</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/schema/index-rule">IndexRule</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/schema/index-rule-binding">IndexRuleBinding</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Querying Data<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/query/measure">Measure</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/query/stream">Stream</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/query/filter-operation">Filter Operation</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/property">CRUD Property</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/bydbctl/analyze">Analyzing Data</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Web UI<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/dashboard">Dashboard</a>
        
    </li>

    

    <li>
        

            
            <a href="#">CRUD Schema<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/schema/group">Group</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/schema/measure">Measure</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/schema/stream">Stream</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/schema/index-rule">IndexRule</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/schema/index-rule-binding">IndexRuleBinding</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/schema/top-n-aggregation">Top N Aggregation</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Querying Data<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/query/measure">Measure</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/query/stream">Stream</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/web-ui/property">CRUD Property</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/java-client">Java Client</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/interacting/data-lifecycle">Data Lifecycle</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Operation and Maintenance<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/configuration">Configure BanyanDB</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/system">System Configuration</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/upgrade">Upgrade</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/observability">Observability</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/cluster">Cluster Management</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Troubleshooting<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/troubleshooting/error-checklist">Error Checklist</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/troubleshooting/install">Troubleshooting Installation</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/troubleshooting/crash">Troubleshooting Crash</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/troubleshooting/no-data">Troubleshooting No Data</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/troubleshooting/overhead">Troubleshooting Overhead</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/troubleshooting/query">Troubleshooting Query</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/operation/security">Security</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">File Format<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/concept/tsdb">v1.1.0</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Concepts<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/concept/clustering">Clustering</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/concept/tsdb">TSDB</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-banyandb/next/concept/rotation">Data Rotation</a>
        
    </li>

    

</ul>

        
    </li>
    
</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>

                  <div class="commit-id">Commit Id: 0794832</div>
                






</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="iconfont icon-menu-doc doc-menu-button"></i>
              
<div class="td-content">
	<h1 id="observability">Observability</h1>
<p>This document outlines the observability features of BanyanDB, which include metrics, profiling, and tracing. These features help monitor and understand the performance, behavior, and overall health of BanyanDB.</p>
<h2 id="logging">Logging</h2>
<p>BanyanDB uses the <a href="https://github.com/rs/zerolog">zerolo</a> library for logging. The log level can be set using the <code>log-level</code> flag. The supported log levels are <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, and <code>fatal</code>. The default log level is <code>info</code>.</p>
<p><code>logging-env</code> is used to set the logging environment. The default value is <code>prod</code>. The logging environment can be set to <code>dev</code> for development or <code>prod</code> for production. The logging environment affects the log format and output. In the <code>dev</code> environment, logs are output in a human-readable format, while in the <code>prod</code> environment, logs are output in JSON format.</p>
<p><code>logging-modules</code> and <code>logging-levels</code> are used to set the log level for specific modules. The <code>logging-modules</code> flag is a comma-separated list of module names, and the <code>logging-levels</code> flag is a comma-separated list of log levels corresponding to the module names. The log level for a specific module can be set using these flags. Available modules are <code>storage</code>, <code>distributed-query</code>, <code>liaison-grpc</code>, <code>liaison-http</code>, <code>measure</code>, <code>stream</code>, <code>metadata</code>, <code>etcd-client</code>, <code>etcd-server</code>, <code>schema-registry</code>, <code>metrics</code>, <code>pprof-service</code>, <code>query</code>, <code>server-queue-sub</code>, <code>server-queue-pub</code>. For example, to set the log level for the <code>storage</code> module to <code>debug</code>, you can use the following flags:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">--logging-modules<span style="color:#000;font-weight:bold">=</span>storage --logging-levels<span style="color:#000;font-weight:bold">=</span>debug
</code></pre></div><h3 id="slow-query-logging">Slow Query Logging</h3>
<p>BanyanDB supports slow query logging. The <code>slow-query</code> flag is used to set the slow query threshold. If a query takes longer than the threshold, it will be logged as a slow query. The default value is <code>0</code>, which means no slow query logging. This flag is only used for the data and standalone servers.</p>
<p>The <code>dst-slow-query</code> flag is used to set the distributed slow query threshold. This flag is only used for the liaison server. The default value is <code>0</code>, which means no distributed slow query logging.</p>
<p>When query tracing is enabled, the slow query log won&rsquo;t be generated.</p>
<h2 id="metrics">Metrics</h2>
<p>BanyanDB expose metrics for monitoring and analysis. In this part, we use some variables to represent the metrics, such as <code>$job</code> and <code>$instance</code>. The <code>$job</code> is the job name of the BanyanDB collection job, and the <code>$instance</code> is the instance name of the BanyanDB instance.</p>
<p><code>__rate_interval</code> is a variable that represents the rate interval. It is used to calculate the rate of metrics.</p>
<h3 id="stats">Stats</h3>
<p><code>Stats</code> metrics are used to monitor the overall status of BanyanDB. The following metrics are available:</p>
<h4 id="write-rate">Write Rate</h4>
<p>The write rate is the number of write operations per second. It is calculated by summing the total number of written operations for measures and streams.</p>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_measure_total_written{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval])) + sum(rate(banyandb_stream_tst_total_written{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval]))</code></p>
<h4 id="total-memory">Total Memory</h4>
<p>The total memory is the total physical memory available on the system, which means total amount of RAM on the system.</p>
<p><strong>Expression</strong>: <code>sum(banyandb_system_memory_state{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,kind=\&quot;total\&quot;})</code></p>
<h4 id="disk-usage">Disk Usage</h4>
<p>The disk usage is the percentage of disk space used. If the disk usage is over 80%, it may indicate that the disk is almost full.</p>
<p><strong>Expression</strong>: <code>sum(banyandb_system_disk{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,kind=\&quot;used\&quot;})</code></p>
<h4 id="query-rate">Query Rate</h4>
<p>The query rate is the number of query operations per second. It is the query rate on the liaison server.</p>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_liaison_grpc_total_started{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;, method=\&quot;query\&quot;}[$__rate_interval]))</code></p>
<h4 id="total-cpu">Total CPU</h4>
<p>The total CPU is the total number of CPUs available on the system.</p>
<p><strong>Expression</strong>: <code>sum(banyandb_system_cpu_num{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;})</code></p>
<h4 id="write-and-query-errors-rate">Write and Query Errors Rate</h4>
<p>The write and query errors rate is the number of write and query errors per minute. It is calculated by summing the total number of write and query errors from liaison and data servers.</p>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_liaison_grpc_total_err{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;,method=\&quot;query\&quot;}[$__rate_interval])*60) + sum(rate(banyandb_liaison_grpc_total_stream_msg_sent_err{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])*60) + sum(rate(banyandb_liaison_grpc_total_stream_msg_received_err{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])*60)  + sum(rate(banyandb_queue_sub_total_msg_sent_err{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])*60)</code></p>
<h4 id="etcd-operation-rate">Etcd Operation Rate</h4>
<p>The etcd operation rate is the number of etcd operations per second. It is calculated by summing the total number of etcd operations.</p>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_liaison_grpc_total_registry_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) + sum(rate(banyandb_liaison_grpc_total_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;,method!=\&quot;query\&quot;}[$__rate_interval]))</code></p>
<h4 id="active-instances">Active Instances</h4>
<p>The active instances is the number of active instances in the BanyanDB cluster.</p>
<p><strong>Expression</strong>: <code>sum(min_over_time(up{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (job)</code></p>
<h3 id="resource-usage">Resource Usage</h3>
<p><code>Resource Usage</code> metrics are used to monitor the resource usage of BanyanDB on the node. The following metrics are available:</p>
<h4 id="cpu-usage">CPU Usage</h4>
<p>The CPU usage is the percentage of CPU used. If the CPU usage is over 80%, it may indicate that the CPU is overloaded.</p>
<p><strong>Expression</strong>: <code>max(rate(process_cpu_seconds_total{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval]) / banyandb_system_cpu_num{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}) by (job)</code></p>
<h4 id="rss-memory-usage">RSS memory usage</h4>
<p>The RSS memory usage is the percentage of resident memory used. If the memory usage is over 80%, it may indicate that the memory is almost full.</p>
<p><strong>Expression</strong>: <code>max(max_over_time(process_resident_memory_bytes{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval]) / sum(banyandb_system_memory_state{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;, kind=\&quot;total\&quot;}) by (job,instance)) by(job)</code></p>
<h4 id="disk-usage-1">Disk Usage</h4>
<p>The disk usage is the percentage of disk space used. If the disk usage is over 80%, it may indicate that the disk is almost full.</p>
<p><strong>Expression</strong>: <code>max(sum(banyandb_system_disk{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;, kind=\&quot;used\&quot;}) / sum(banyandb_system_memory_state{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;, kind=\&quot;total\&quot;})) by (job)</code></p>
<h4 id="network-usage">Network Usage</h4>
<p>The network usage is the number of bytes sent and received per second.</p>
<p><strong>Expression1</strong>: <code>sum(rate(banyandb_system_net_state{job=~\&quot;$job\&quot;,instanct=~\&quot;$instance\&quot;,kind=\&quot;bytes_recv\&quot;}[$__rate_interval])) by (name)</code></p>
<p><strong>Expression2</strong>: <code>sum(rate(banyandb_system_net_state{job=~\&quot;$job\&quot;,instanct=~\&quot;$instance\&quot;,kind=\&quot;bytes_sent\&quot;}[$__rate_interval])) by (name)</code></p>
<h3 id="storage">Storage</h3>
<p><code>Storage</code> metrics are used to monitor the storage status of BanyanDB. The following metrics are available:</p>
<h4 id="write-rate-1">Write Rate</h4>
<p>The write rate is the number of write operations per second. It is calculated by summing the total number of written operations for measures and streams. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>You can view the write rate of different instance to find out the hot instance.</p>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_measure_total_written{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group) + sum(rate(banyandb_stream_tst_total_written{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code></p>
<h4 id="query-latency">Query Latency</h4>
<p>The query latency is the average query latency in seconds. It is calculated by summing the total query latency and dividing by the total number of queries.</p>
<p>You can view the query latency of different instance to find out the instance with high query latency. Because BanyanDB will fetch all instances to query, the query latency of the instance with high query latency will affect the overall query latency.</p>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_liaison_grpc_total_latency{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,method=\&quot;query\&quot;}[$__rate_interval])) by( group) / sum(rate(banyandb_liaison_grpc_total_started{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,method=\&quot;query\&quot;}[$__rate_interval])) by (group)</code></p>
<h4 id="total-data">Total Data</h4>
<p>The total data is the total number of data points stored in BanyanDB. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>You can view the total data of different instance to find out the instance with high data points. If the difference between the total data of different instances is too large, it may indicate that the data is not evenly distributed.</p>
<p><strong>Expression1</strong>: <code>sum(banyandb_measure_total_file_elements{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;})by(group)</code>
<strong>Expression2</strong>: <code>sum(banyandb_stream_tst_total_file_elements{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;})by(group)</code></p>
<h4 id="merge-file-rate">Merge File Rate</h4>
<p>The merge file rate is the number of merge file operations per minute. It is calculated by summing the total number of merge file operations. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value surges, it may indicate that too many small files are being merged. It may bring following problems:</p>
<ul>
<li>Increase the disk I/O</li>
<li>Slow down the query performance</li>
<li>Increase the CPU usage</li>
</ul>
<p><strong>Expression1</strong>: <code>sum(rate(banyandb_measure_total_merge_loop_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval]))by(group) * 60</code>
<strong>Expression2</strong>: <code>sum(rate(banyandb_stream_tst_total_merge_loop_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval]))by(group) * 60</code></p>
<h4 id="merge-file-latency">Merge File Latency</h4>
<p>The merge file latency is the average merge file latency in seconds. It is calculated by summing the total merge file latency and dividing by the total number of merge file operations. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value surges, it may indicate that the merge file operation is slow. It may be caused by the high disk I/O and other resource usage. It may bring following problems:</p>
<ul>
<li>Slow down the query performance</li>
<li>Increase the CPU usage</li>
<li>Increase the memory usage</li>
</ul>
<p><strong>Expression1</strong>: <code>sum(rate(banyandb_measure_total_merge_latency{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,type=\&quot;file\&quot;}[$__rate_interval]))by(group) / sum(rate(banyandb_measure_total_merge_loop_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval]))by(group)</code>
<strong>Expression2</strong>: <code>sum(rate(banyandb_stream_tst_total_merge_latency{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,type=\&quot;file\&quot;}[$__rate_interval]))by(group) / sum(rate(banyandb_stream_tst_total_merge_loop_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval]))by(group)</code></p>
<h4 id="merge-file-partitions">Merge File Partitions</h4>
<p>The merge file partitions is the average number of partitions merged per merge file operation. It is calculated by summing the total number of partitions merged and dividing by the total number of merge file operations. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value surges, it may indicate that too many partitions are being merged. It may because the partition number is too large that indicates the server is under a high write load.</p>
<p><strong>Expression1</strong>: <code>sum(rate(banyandb_measure_total_merged_parts{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,type=\&quot;file\&quot;}[$__rate_interval]))by(group) / sum(rate(banyandb_measure_total_merge_loop_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval]))by(group)</code></p>
<p><strong>Expression2</strong>: <code>sum(rate(banyandb_stream_tst_total_merged_parts{job=~\&quot;$job\&quot;, instance=~\&quot;$instance\&quot;,type=\&quot;file\&quot;}[$__rate_interval]))by(group) / sum(rate(banyandb_stream_tst_total_merge_loop_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval]))by(group)</code></p>
<h4 id="series-write-rate">Series Write Rate</h4>
<p>The series write rate is the number of series write operations per second. It is calculated by summing the total number of series write operations for measures and streams. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value surges, it may indicate that the old series are being updated frequently by the new series. It may be caused by the high cardinality of the series and bring following problems:</p>
<ul>
<li>Increase the series inverted index size</li>
<li>Slow down the query performance</li>
</ul>
<p><strong>Expression1</strong>: <code>sum(rate(banyandb_measure_inverted_index_total_updates{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code>
<strong>Expression2</strong>: <code>sum(rate(banyandb_stream_storage_inverted_index_total_updates{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code></p>
<h5 id="series-term-search-rate">Series Term Search Rate</h5>
<p>The series term search rate is the number of series term search operations per second. It is calculated by summing the total number of series term search operations for measures and streams. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value is too large, it may indicate that reading operation fetch too many series. It may be caused by the high cardinality of the series and bring following problems:</p>
<ul>
<li>Slow down the query performance</li>
<li>Increase the CPU usage</li>
<li>Increase the memory usage</li>
</ul>
<p><strong>Expression1</strong>: <code>sum(rate(banyandb_stream_storage_inverted_index_total_term_searchers_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code>
<strong>Expression2</strong>: <code>sum(rate(banyandb_measure_inverted_index_total_term_searchers_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code></p>
<h4 id="total-series">Total Series</h4>
<p>The total series is the total number of series stored in BanyanDB. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value is too large, it may indicate that the high cardinality of the series. It may bring following problems:</p>
<ul>
<li>Increase the series inverted index size</li>
<li>Slow down the query performance</li>
</ul>
<p><strong>Expression1</strong>: <code>sum(banyandb_measure_inverted_index_total_doc_count{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}) by (group)</code>
<strong>Expression2</strong>: <code>sum(banyandb_stream_storage_inverted_index_total_doc_count{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}) by (group)</code></p>
<h3 id="stream-inverted-index">Stream Inverted Index</h3>
<p><code>Stream Inverted Index</code> metrics are used to monitor the stream inverted index status of BanyanDB. The following metrics are available:</p>
<h4 id="stream-inverted-index-write-rate">Stream Inverted Index Write Rate</h4>
<p>The write rate is the number of write operations per second. It is calculated by summing the total number of written operations for streams. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value is too large, it may indicate that too many data points are being indexed and bring following problems:</p>
<ul>
<li>Increase the inverted index size</li>
<li>Slow down the query performance</li>
<li>Increase the CPU usage</li>
<li>Increase the memory usage</li>
</ul>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_stream_tst_inverted_index_total_updates{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code></p>
<h4 id="term-search-rate">Term Search Rate</h4>
<p>The term search rate is the number of term search operations per second. It is calculated by summing the total number of term search operations for streams. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value is too large, it may indicate that reading operation fetch too many data points. It may bring following problems:</p>
<ul>
<li>Slow down the query performance</li>
<li>Increase the CPU usage</li>
<li>Increase the memory usage</li>
</ul>
<p><strong>Expression</strong>: <code>sum(rate(banyandb_stream_tst_inverted_index_total_term_searchers_started{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}[$__rate_interval])) by (group)</code></p>
<h4 id="total-documents">Total Documents</h4>
<p>The total documents is the total number of documents stored in the stream inverted index. It&rsquo;s grouped by the <code>group</code> tag.</p>
<p>If the value is too large, it may indicate that too many data points are being indexed and bring following problems:</p>
<ul>
<li>Increase the inverted index size</li>
<li>Slow down the query performance</li>
<li>Increase the CPU usage</li>
<li>Increase the memory usage</li>
</ul>
<p><strong>Expression</strong>: <code>sum(banyandb_stream_tst_inverted_index_total_doc_count{job=~\&quot;$job\&quot;,instance=~\&quot;$instance\&quot;}) by (group)</code></p>
<h2 id="metrics-providers">Metrics Providers</h2>
<p>BanyanDB has built-in support for metrics collection. Currently, there are two supported metrics provider: <code>prometheus</code> and <code>native</code>. These can be enabled through <code>observability-modes</code> flag, allowing you to activate one or both of them.</p>
<h3 id="prometheus">Prometheus</h3>
<p>Prometheus is auto enabled at run time, if no flag is passed or if <code>promethus</code> is set in <code>observability-modes</code> flag.</p>
<p>When the Prometheus metrics provider is enabled, the metrics server listens on port <code>2121</code>. This allows Prometheus to scrape metrics data from BanyanDB for monitoring and analysis.</p>
<h4 id="grafana-dashboard">Grafana Dashboard</h4>
<p>Check out the <a href="../grafana-cluster.json">BanyanDB Cluster Dashboard</a> for monitoring BanyanDB metrics.</p>
<h3 id="native">Native</h3>
<p>If the <code>observability-modes</code> flag is set to <code>native</code>, the self-observability metrics provider will be enabled. The some of metrics will be displayed in the dashboard of <a href="http://localhost:17913/">banyandb-ui</a></p>
<p><img src="https://skywalking.apache.org/doc-graph/banyandb/v0.7.0/dashboard.png" alt="dashboard"></p>
<h4 id="metrics-storage">Metrics storage</h4>
<p>In self-observability, the metrics data is stored in BanyanDB within the <code> _monitoring</code> internal group. Each metric will be created as a new <code>measure</code> within this group.</p>
<p>You can use BanyanDB-UI or bydbctl to retrieve the data.</p>
<h4 id="write-flow">Write Flow</h4>
<p>When starting any node, the <code>_monitoring</code> internal group will be created, and the metrics will be created as measures within this group. All metric values will be collected and written together at a configurable fixed interval. For a data node, it will write metric values to its own shard using a local pipeline. For a liaison node, it will use nodeSelector to select a data node to write its metric data.</p>
<p><img src="https://skywalking.apache.org/doc-graph/banyandb/v0.7.0/self-observability-write.png" alt="self-observability-write"></p>
<h4 id="read-flow">Read Flow</h4>
<p>The read flow is the same as reading data from <code>measure</code>, with each metric being a new measure.</p>
<h2 id="profiling">Profiling</h2>
<p>Banyand, the server of BanyanDB, supports profiling automatically. The profiling data is collected by the <code>pprof</code> package and can be accessed through the <code>/debug/pprof</code> endpoint. The port of the profiling server is <code>2122</code> by default.</p>
<p>Refer to the <a href="https://golang.org/pkg/net/http/pprof/">pprof documentation</a> for more information on how to use the profiling data.</p>
<h2 id="query-tracing">Query Tracing</h2>
<p>BanyanDB supports query tracing, which allows you to trace the execution of a query. The tracing data includes the query plan, execution time, and other useful information. You can enable query tracing by setting the <code>QueryRequest.trace</code> field to <code>true</code> when sending a query request.</p>
<p>The below command could query data in the last 30 minutes with <code>trace</code> enabled:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">bydbctl measure query --start -30m -f - <span style="color:#d14">&lt;&lt;EOF
</span><span style="color:#d14">name: &#34;service_cpm_minute&#34;
</span><span style="color:#d14">groups: [&#34;measure-minute&#34;]
</span><span style="color:#d14">tagProjection:
</span><span style="color:#d14">  tagFamilies:
</span><span style="color:#d14">    - name: &#34;storage-only&#34;
</span><span style="color:#d14">      tags: [&#34;entity_id&#34;]
</span><span style="color:#d14">fieldProjection:
</span><span style="color:#d14">  names: [&#34;total&#34;, &#34;value&#34;]
</span><span style="color:#d14">trace: true
</span><span style="color:#d14">EOF</span>
</code></pre></div><p>The result will include the tracing data in the response. The duration time unit is in nano seconds.</p>

</div>
<div>
  
  
  
  <div id="edit-github">
    <svg
      fill="currentColor"
      height="20"
      width="20"
      viewBox="0 0 40 40"
      aria-hidden="true"
      style="margin-right: 0.1em;vertical-align: sub; color: #3176d9">
      <g>
        <path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z" />
      </g>
    </svg>
    <a class="github-link" title="Edit this page" href="" target="_blank">
      <span id="edit-github-text">Edit this page</span>
    </a>
  </div>
  
</div>
<script>
  let reg = /\/docs\/[a-zA-Z\-]+\/([\w|\.]+)\//;
  let res = reg.exec(location.href);
  let version = res && res[1];
  let editGithub = document.getElementById("edit-github");
  if (editGithub) {
    editGithub.style.display = version === "next" ? "block" : "none";
  }
  
  if (version === "next") {
    reg = /\/docs\/(.+?)\//;
    let repoRes = reg.exec(location.href);
    let repo = repoRes && repoRes[1];
    if (repo === "main") {
      repo = "skywalking"
    }
    reg = /\/next\/(.+)/;
    let docs = reg.exec(location.href);
    let docsUrl = docs && docs[1];
    if (docsUrl) {
      docsUrl = docsUrl.replace(/readme/i, 'README');
    }
    let prefixUrl = "https://github.com/apache/" + repo + "/blob/master/docs/";
    let editGithubLink = document.querySelector("#edit-github a");
    if (editGithubLink) {
      editGithubLink.href = prefixUrl + docsUrl.replace(/\/$/, ".md");
    }
  }
</script>

            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#observability">Observability</a>
      <ul>
        <li><a href="#logging">Logging</a>
          <ul>
            <li><a href="#slow-query-logging">Slow Query Logging</a></li>
          </ul>
        </li>
        <li><a href="#metrics">Metrics</a>
          <ul>
            <li><a href="#stats">Stats</a></li>
            <li><a href="#resource-usage">Resource Usage</a></li>
            <li><a href="#storage">Storage</a></li>
            <li><a href="#stream-inverted-index">Stream Inverted Index</a></li>
          </ul>
        </li>
        <li><a href="#metrics-providers">Metrics Providers</a>
          <ul>
            <li><a href="#prometheus">Prometheus</a></li>
            <li><a href="#native">Native</a></li>
          </ul>
        </li>
        <li><a href="#profiling">Profiling</a></li>
        <li><a href="#query-tracing">Query Tracing</a></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2024 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.d00d7a99f9e61382b1db35fac38e0e7bdd97f8d3c663a4c4b8d02c3f1d78d894.js" integrity="sha256-0A16mfnmE4Kx2zX6w44Oe92X&#43;NPGY6TEuNAsPx142JQ=" crossorigin="anonymous"></script>


<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>





  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val().toLowerCase();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
