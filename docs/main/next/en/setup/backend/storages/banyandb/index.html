<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>BanyanDB | Apache SkyWalking</title><meta property="og:title" content="BanyanDB" />
<meta property="og:description" content="BanyanDB BanyanDB is a dedicated storage implementation developed by the SkyWalking Team and the community. Activate BanyanDB as the storage by setting the storage provider to banyandb.
The BanyanDB server compatibility relies on API and release versions, which are defined in bydb.dependencies.properties
# BanyanDB version is the version number of BanyanDB Server release. # This is the bundled and tested BanyanDB release version bydb.version=x.y # BanyanDB API version is the version number of the BanyanDB query APIs # OAP server has bundled implementation of BanyanDB Java client." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/main/next/en/setup/backend/storages/banyandb/" />

<meta itemprop="name" content="BanyanDB">
<meta itemprop="description" content="BanyanDB BanyanDB is a dedicated storage implementation developed by the SkyWalking Team and the community. Activate BanyanDB as the storage by setting the storage provider to banyandb.
The BanyanDB server compatibility relies on API and release versions, which are defined in bydb.dependencies.properties
# BanyanDB version is the version number of BanyanDB Server release. # This is the bundled and tested BanyanDB release version bydb.version=x.y # BanyanDB API version is the version number of the BanyanDB query APIs # OAP server has bundled implementation of BanyanDB Java client.">

<meta itemprop="wordCount" content="1325">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="BanyanDB"/>
<meta name="twitter:description" content="BanyanDB BanyanDB is a dedicated storage implementation developed by the SkyWalking Team and the community. Activate BanyanDB as the storage by setting the storage provider to banyandb.
The BanyanDB server compatibility relies on API and release versions, which are defined in bydb.dependencies.properties
# BanyanDB version is the version number of BanyanDB Server release. # This is the bundled and tested BanyanDB release version bydb.version=x.y # BanyanDB API version is the version number of the BanyanDB query APIs # OAP server has bundled implementation of BanyanDB Java client."/>



<link rel="preload" href="/scss/main.min.0c770159917a7e9107bd3454069daa2bf26932350638329b3c9419597d4e6e80.css" as="style">
<link href="/scss/main.min.0c770159917a7e9107bd3454069daa2bf26932350638329b3c9419597d4e6e80.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />
<link rel="stylesheet" href="/css/highlight-github.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>BanyanDB | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none scroll-bar td-sidebar">


                  <div class="description-wrapper">
                    <h5>
                    <img width="26" height="26" src="/images/project/skywalking.svg">
                    SkyWalking
                    </h5>
                    <p>SkyWalking primary repository and docs.</p>
                  </div>
                  
                  <div class="version-wrapper">Version: 
                  <select class="version-select">
                  
                    
                    
                    <option selected value="next">
                    
                      next
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="latest">
                    
                      latest
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v10.2.0">
                    
                      v10.2.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v10.1.0">
                    
                      v10.1.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v10.0.1">
                    
                      v10.0.1
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v10.0.0">
                    
                      v10.0.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.7.0">
                    
                      v9.7.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.6.0">
                    
                      v9.6.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.5.0">
                    
                      v9.5.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.4.0">
                    
                      v9.4.0
                    
                    </option>
                  
                  </select>
                  </div>
                  
                  <ul class="sidebar-menu">
    
    <li>
        
            <a href="/docs/main/next/readme">Welcome</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Concepts and Designs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/overview">Overview and Core concepts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/project-goals">Project Goals</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Agents<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/probe-introduction">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/service-agent">Service Auto Instrument Agent</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/manual-sdk">Manual Instrument SDK</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/service-hierarchy">Service Hierarchy</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Quick Start<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-setup">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-docker">Run with Docker</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s">Run with Kubernetes</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/marketplace">Find out-of-box Features in Marketplace</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Marketplace<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">General Service<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/service-agent/server-agents">Server Agents</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/service-agent/agent-compatibility">Compatibility</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/service-agent/virtual-database">Virtual Database</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/service-agent/virtual-cache">Virtual Cache</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/service-agent/virtual-mq">Virtual MQ</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Service Mesh<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/envoy/als_setting">Observe Service Mesh through Access Log Service (ALS)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/zipkin/tracing">Observe Service Mesh through Zipkin traces</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/istio/readme">Observe Control Plane (Istio)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/envoy/metrics_service_setting">Observe Data Plane (Envoy)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s-network-monitoring">Profile Pod&#39;s Network</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Kubernetes<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s-monitoring">Observe Kubernetes</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s-monitoring-metrics-cadvisor">kube-state-metrics &#43; cAdvisor</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s-monitoring-rover">Rover</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s-network-monitoring">Profile Pod&#39;s Network</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-k8s-monitoring-cilium">Cilium</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Infrastructure Monitoring<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-vm-monitoring">Linux Monitoring</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-win-monitoring">Windows Monitoring</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">AWS Cloud Monitoring<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-aws-eks-monitoring">EKS Monitoring</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-aws-s3-monitoring">S3 Monitoring</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-aws-dynamodb-monitoring">AWS DynamoDB</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-aws-api-gateway-monitoring">AWS API Gateway</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/service-agent/browser-agent">Browser Monitoring</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Gateway Monitoring<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-nginx-monitoring">Nginx Monitoring</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-apisix-monitoring">APISIX Monitoring</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-aws-api-gateway-monitoring">AWS API Gateway</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-kong-monitoring">Kong Monitoring</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Database Monitoring<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-mysql-monitoring">MySQL/MariaDB Server</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-postgresql-monitoring">PostgreSQL Server</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-aws-dynamodb-monitoring">AWS DynamoDB</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-redis-monitoring">Redis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-elasticsearch-monitoring">Elasticsearch</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-mongodb-monitoring">MongoDB</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-bookkeeper-monitoring">BookKeeper</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-clickhouse-monitoring">ClickHouse</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">MQ Monitoring<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-rabbitmq-monitoring">RabbitMQ</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-kafka-monitoring">Kafka</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-pulsar-monitoring">Pulsar</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-rocketmq-monitoring">RocketMQ</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-activemq-monitoring">ActiveMQ</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Data Processing Engine<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-flink-monitoring">Flink</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Self Observability<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/dashboards-so11y">OAP self telemetry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/dashboards-so11y-satellite">Satellite self telemetry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/dashboards-so11y-java-agent">SkyWalking Java Agent self telemetry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/dashboards-so11y-go-agent">SkyWalking Go Agent self telemetry</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/configuration-vocabulary">Configuration Vocabulary</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Advanced Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/service-auto-grouping">Service Grouping</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-setting-override">Overriding Settings</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-ip-port">IP And Port Setting</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-init-mode">Backend Init Mode Startup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-cluster">Cluster Management</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Choose Storage<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-storage">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/storages/banyandb">BanyanDB</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/storages/mysql">MySQL</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/storages/postgresql">PostgreSQL</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/storages/elasticsearch">Elasticsearch &amp; OpenSearch</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-expose">Setup External Communication Channels</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/kafka-fetcher">Kafka Fetcher</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/advanced-deployment">Advanced Deployment Options</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/ttl">Data Lifecycle. Time To Live (TTL)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/endpoint-grouping-rules">Group Parameterized Endpoints</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/dynamical-logging">Dynamical Logging</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/grpc-security">Security(SSL/TLS/mTLS)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-load-balancer">Setup Load Balancer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-telemetry">OAP Self Observability Telemetry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-health-check">OAP Health Check</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/circuit-breaking">Circuit Breaking</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">BanyanDB Exclusive Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/banyandb/ttl">Progressive TTL</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/banyandb/stages">Data Lifecycle Stages(Hot/Warm/Cold)</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Tracing<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/trace-sampling">Trace Sampling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/slow-db-statement">Detect Slow Database Statement</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/slow-cache-command">Detect Slow Cache Command</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/mq">Message Queue Performance</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/uninstrumented-gateways">Uninstrumented Gateways</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/zipkin-trace">Zipkin Trace</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/otlp-trace">OpenTelemetry Trace</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Metrics<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/guides/backend-oal-scripts">OAL Scripts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/opentelemetry-receiver">OpenTelemetry Metrics</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/aws-firehose-receiver">AWS CloudWatch Metrics</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-zabbix">Zabbix Metrics</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-meter">Meter Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/telegraf-receiver">Telegraf Metrics</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/apdex-threshold">Apdex Threshold</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/micrometer-observations">Spring MicroMeter Observations Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-alarm">Alerting</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Logging<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Persistent Logging<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/filelog-native">Native Logging from Files</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/log-agent-native">Native Logging from Agents</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/log-otlp">OpenTelemetry Logging</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/log-analyzer">Log Analysis</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/on-demand-pod-log">On Demand Pod Logs</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Profiling<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-trace-profiling">Tracing Profiling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-ebpf-profiling">eBPF Profiling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-continuous-profiling">Continuous Profiling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-java-app-profiling">Java App Profiling</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/event/">Event</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Extension<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/exporter">Exporter</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/dynamic-config">Dynamic Configuration</a>
        
    </li>

    

    <li>
        

            
            <a href="#">AI Pipeline<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/ai-pipeline/introduction">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/ai-pipeline/http-restful-uri-pattern">HTTP Restful URI recognition</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/ai-pipeline/metrics-baseline-integration">Metrics Baseline Calculation and Alerting</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">UI Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Native UI<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/ui-setup">Setup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/ui/readme">Customization</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/ui-grafana">Grafana UI</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI Setup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/setup/backend/backend-data-generator">Mock Data Generator Setup</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Telemetry APIs/Protocols<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Tracing<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/api/trace-data-protocol-v3">Spans APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/x-process-propagation-headers-v3">Tracing Context Propagation</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/x-process-correlation-headers-v1">Tracing Correlation Correlation</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Metrics APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/api/meter">Meter APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/browser-protocol">Browser Performance APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/jvm-protocol">JVM Metrics APIs</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/log-data-protocol">Logging</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/instance-properties">Service Instance Properties APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/event">Event</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/profiling-protocol">Profiling</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Query APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">GraphQL APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/api/query-protocol">GraphQL APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/metrics-query-expression">MQE Syntax</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/query-protocol-deprecated">Deprecated APIs</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/promql-service">PromQL APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/logql-service">LogQL APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/api/health-check">Health Check API</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Status APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/status/status_apis">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/debugging/config_dump">Dump Effective Initial Configurations</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/debugging/query-tracing">Tracing Query Execution</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/status/query_ttl_setup">Get Effective TTL Configurations</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/status/query_cluster_nodes">Get Node List in the Cluster</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/status/query_alarm_runtime_status">Get Alarm Runtime Status</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Customization<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/backend-overview">Overview</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/oal">Analysis Traces and Mesh Traffic</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/mal">Analysis Metrics and Meters</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/lal">Analysis Logs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/profiling">Profiling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/service-hierarchy-configuration">Service Hierarchy Configuration</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/metrics-additional-attributes">Metrics Attributes</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="/docs/main/next/en/security/readme">Security Notice</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Academy<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/academy/scaling-with-apache-skywalking">Scaling SkyWalking server automatically in kubernetes</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/papers/stam">STAM Paper, Streaming Topology Analysis Method</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/sdk-profiling">SDK Profiling to Fix the Blind Spot</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/concepts-and-designs/ebpf-cpu-profiling">eBPF CPU Profiling to pinpoint Service Mesh Critical Performance Impact</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/academy/diagnose-service-mesh-network-performance-with-ebpf">Diagnose Service Mesh Network Performance with eBPF</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="/docs/main/next/en/faq/readme">FAQs</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Contributing Guides<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/guides/community">Contact the community</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/asf/committer">Become A Committer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/how-to-release/">Release Guide</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/how-to-build">Compiling Guide</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Contribute<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/guides/it-guide">Integration Tests</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/benchmark">Benchmark Tests</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/e2e">End to End Tests</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Project Extensions<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/guides/component-library-settings">Component Library Settings</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/source-extension">Extend An OAL Source</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Dependencies<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/guides/dependencies">Project Dependencies Check</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/how-to-bump-up-zipkin">Zipkin dependency</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/guides/i18n">I18n</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="/docs/main/next/en/swip/readme">SWIP</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Changelog<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/changes/changes">Current Version</a>
        
    </li>

    

    <li>
        

            
            <a href="#">10.x Releases<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-10.2.0">10.2.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-10.1.0">10.1.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-10.0.1">10.0.1</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-10.0.0">10.0.0</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">9.x Releases<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.7.0">9.7.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.6.0">9.6.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.5.0">9.5.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.4.0">9.4.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.3.0">9.3.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.2.0">9.2.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.1.0">9.1.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-9.0.0">9.0.0</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Archived Releases<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.9.1">8.9.1</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.9.0">8.9.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.8.1">8.8.1</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.8.0">8.8.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.7.0">8.7.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.6.0">8.6.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.5.0">8.5.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.4.0">8.4.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.3.0">8.3.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.2.0">8.2.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.1.0">8.1.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.0.1">8.0.1</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-8.0.0">8.0.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-7.0.0">7.0.0</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-6.x">6.x</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/next/en/changes/changes-5.x">5.x</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>
    
</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>

                  <div class="commit-id">Commit Id: 30702c7</div>
                












































</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="iconfont icon-menu-doc doc-menu-button"></i>
              
<div class="td-content">
	<h2 id="banyandb">BanyanDB</h2>
<p><a href="https://github.com/apache/skywalking-banyandb">BanyanDB</a> is a dedicated storage implementation developed by the SkyWalking Team and the community. Activate BanyanDB as the storage by setting the storage provider to <strong>banyandb</strong>.</p>
<p>The BanyanDB server compatibility relies on API and release versions, which are defined in <code>bydb.dependencies.properties</code></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#998;font-style:italic"># BanyanDB version is the version number of BanyanDB Server release.</span>
<span style="color:#998;font-style:italic"># This is the bundled and tested BanyanDB release version</span>
bydb.version<span style="color:#000;font-weight:bold">=</span>x.y
<span style="color:#998;font-style:italic"># BanyanDB API version is the version number of the BanyanDB query APIs</span>
<span style="color:#998;font-style:italic"># OAP server has bundled implementation of BanyanDB Java client.</span>
<span style="color:#998;font-style:italic"># Please check BanyanDB documentation for the API version compatibility.</span>
<span style="color:#998;font-style:italic"># https://skywalking.apache.org/docs/skywalking-banyandb/next/installation/versions</span>
<span style="color:#998;font-style:italic"># Each `bydb.api.version` could have multiple compatible release version(`bydb.version`).</span>
bydb.api.version<span style="color:#000;font-weight:bold">=</span>x.y
</code></pre></div><p>If the BanyanDB server API version is not compatible with the OAP server, the OAP server will not start, and the following error message will be displayed:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">... ERROR <span style="color:#000;font-weight:bold">[]</span> - ... Incompatible BanyanDB server API version: 0.x. But accepted versions: 0.y
org.apache.skywalking.oap.server.library.module.ModuleStartException: Incompatible BanyanDB server API version...
</code></pre></div><h3 id="configuration">Configuration</h3>
<p>In the <code>application.yml</code> file, select the BanyanDB storage provider:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">storage</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">selector</span>:<span style="color:#bbb"> </span>${SW_STORAGE:banyandb}<span style="color:#bbb">
</span></code></pre></div><p>Since 10.2.0, the banyandb configuration is separated to an independent configuration file: <code>bydb.yaml</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">global</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Targets is the list of BanyanDB servers, separated by commas.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Each target is a BanyanDB server in the format of `host:port`.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># If BanyanDB is deployed as a standalone server, the target should be the IP address or domain name and port of the BanyanDB server.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># If BanyanDB is deployed in a cluster, the targets should be the IP address or domain name and port of the `liaison` nodes, separated by commas.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">targets</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TARGETS:127.0.0.1:17912}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The maximum number of records in a bulk write request.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># A larger value can improve write performance but also increases OAP and BanyanDB Server memory usage.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">maxBulkSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_MAX_BULK_SIZE:10000}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The minimum seconds between two bulk flushes.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># If the data in a bulk is less than maxBulkSize, the data will be flushed after this period.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># If the data in a bulk exceeds maxBulkSize, the data will be flushed immediately.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># A larger value can reduce write pressure on BanyanDB Server but increase data latency.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">flushInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_FLUSH_INTERVAL:15}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The timeout in seconds for a bulk flush.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">flushTimeout</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_FLUSH_TIMEOUT:10}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The number of threads that write data to BanyanDB concurrently.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># A higher value can improve write performance but also increases CPU usage on both OAP and BanyanDB Server.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">concurrentWriteThreads</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_CONCURRENT_WRITE_THREADS:15}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The maximum size of the dataset when the OAP loads cache, such as network aliases.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">resultWindowMaxSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_QUERY_MAX_WINDOW_SIZE:10000}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The maximum size of metadata per query.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">metadataQueryMaxSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_QUERY_MAX_SIZE:10000}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The maximum number of trace segments per query.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">segmentQueryMaxSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_QUERY_SEGMENT_SIZE:200}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The maximum number of profile task queries in a request.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">profileTaskQueryMaxSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_QUERY_PROFILE_TASK_SIZE:200}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The batch size for querying profile data.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">profileDataQueryBatchSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_QUERY_PROFILE_DATA_BATCH_SIZE:100}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">asyncProfilerTaskQueryMaxSize</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ASYNC_PROFILER_TASK_QUERY_MAX_SIZE:200}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># If the BanyanDB server is configured with TLS, configure the TLS cert file path and enable TLS connection.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">sslTrustCAPath</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_SSL_TRUST_CA_PATH:&#34;&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Cleanup TopN rules in BanyanDB server that are not configured in the bydb-topn.yml config.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">cleanupUnusedTopNRules</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_CLEANUP_UNUSED_TOPN_RULES:true}<span style="color:#bbb">
</span><span style="color:#bbb">  
</span><span style="color:#bbb"></span><span style="color:#000080">groups</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The group settings of record.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#  - &#34;ShardNum&#34;: Number of shards in the group. Shards are the basic units of data storage in BanyanDB. Data is distributed across shards based on the hash value of the series ID.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#     Refer to the [BanyanDB Shard](https://skywalking.apache.org/docs/skywalking-banyandb/latest/concept/clustering/#52-data-sharding) documentation for more details.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#  - &#34;SIDays&#34;: Interval in days for creating a new segment. Segments are time-based, allowing efficient data retention and querying. `SI` stands for Segment Interval.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#  - &#34;TTLDays&#34;: Time-to-live for the data in the group, in days. Data exceeding the TTL will be deleted.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#  For more details on setting `segmentIntervalDays` and `ttlDays`, refer to the [BanyanDB TTL](https://skywalking.apache.org/docs/main/latest/en/banyandb/ttl) documentation.</span><span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The &#34;records&#34; section defines settings for normal datasets not specified in records.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Each dataset will be grouped under a single group named &#34;records&#34;.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">records</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># The settings for the default &#34;hot&#34; stage.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb">  </span>${SW_STORAGE_BANYANDB_RECORDS_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_TTL_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># If the &#34;warm&#34; stage is enabled, the data will be moved to the &#34;warm&#34; stage after the TTL of the &#34;hot&#34; stage.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># If the &#34;cold&#34; stage is enabled and &#34;warm&#34; stage is disabled, the data will be moved to the &#34;cold&#34; stage after the TTL of the &#34;hot&#34; stage.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># If both &#34;warm&#34; and &#34;cold&#34; stages are enabled, the data will be moved to the &#34;warm&#34; stage after the TTL of the &#34;hot&#34; stage, and then to the &#34;cold&#34; stage after the TTL of the &#34;warm&#34; stage.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># OAP will query the data from the &#34;hot and warm&#34; stage by default if the &#34;warm&#34; stage is enabled.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># The settings for the &#34;warm&#34; stage.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_WARM_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_WARM_SI_DAYS:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_WARM_TTL_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic"># The settings for the &#34;cold&#34; stage.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_COLD_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_COLD_SI_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_COLD_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_RECORDS_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The group settings of super datasets.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Super datasets are used to store trace or log data that is too large for normal datasets.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">recordsTrace</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_TTL_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_WARM_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_WARM_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_WARM_TTL_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_COLD_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_COLD_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_COLD_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_TRACE_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">recordsZipkinTrace</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_TTL_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_WARM_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_WARM_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_WARM_TTL_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_COLD_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_COLD_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_COLD_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_ZIPKIN_TRACE_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">recordsLog</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_TTL_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_WARM_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_WARM_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_WARM_TTL_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_COLD_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_COLD_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_COLD_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_LOG_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">recordsBrowserErrorLog</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_TTL_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_WARM_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_WARM_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_WARM_TTL_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_COLD_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_COLD_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_COLD_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_BROWSER_ERROR_LOG_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The group settings of metrics.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic">#</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># OAP stores metrics based its granularity.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Valid values are &#34;day&#34;, &#34;hour&#34;, and &#34;minute&#34;. That means metrics will be stored in the three separate groups.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Non-&#34;minute&#34; are governed by the &#34;core.downsampling&#34; setting.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># For example, if &#34;core.downsampling&#34; is set to &#34;hour&#34;, the &#34;hour&#34; will be used, while &#34;day&#34; are ignored.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">metricsMinute</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_SI_DAYS:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_TTL_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_WARM_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_WARM_SI_DAYS:3}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_WARM_TTL_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_COLD_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_COLD_SI_DAYS:5}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_COLD_TTL_DAYS:60}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_MINUTE_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">metricsHour</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_SI_DAYS:5}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_TTL_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_WARM_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_WARM_SI_DAYS:7}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_WARM_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_COLD_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_COLD_SI_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_COLD_TTL_DAYS:120}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_HOUR_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">metricsDay</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_SI_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_TTL_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableWarmStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_ENABLE_WARM_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">enableColdStage</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_ENABLE_COLD_STAGE:false}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">warm</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_WARM_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_WARM_SI_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_WARM_TTL_DAYS:30}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_WARM_NODE_SELECTOR:&#34;type=warm&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">cold</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_COLD_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_COLD_SI_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_COLD_TTL_DAYS:120}<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">nodeSelector</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METRICS_DAY_COLD_NODE_SELECTOR:&#34;type=cold&#34;}<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># If the metrics is marked as &#34;index_mode&#34;, the metrics will be stored in the &#34;metadata&#34; group.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The &#34;metadata&#34; group is designed to store metrics that are used for indexing without value columns.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># Such as `service_traffic`, `network_address_alias`, etc.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># &#34;index_mode&#34; requires BanyanDB *0.8.0* or later.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METADATA_SHARD_NUM:2}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">segmentInterval</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METADATA_SI_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">ttl</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_METADATA_TTL_DAYS:15}<span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># The group settings of property, such as UI and profiling.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">property</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">shardNum</span>:<span style="color:#bbb"> </span>${SW_STORAGE_BANYANDB_PROPERTY_SHARD_NUM:1}<span style="color:#bbb">
</span><span style="color:#bbb">
</span></code></pre></div><h3 id="topn-rules-configuration">TopN Rules Configuration</h3>
<p>The BanyanDB storage supports TopN pre-aggregation in the BanyanDB server side, which trades off more disk_volume for pre-aggregation to save CPU cost, and perform faster query in the query stage.
You can define the TopN rules for different metrics. The configuration is defined in the <code>bydb-topn.yaml</code> file:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#998;font-style:italic"># This file is used to configure the TopN rules for BanyanDB in SkyWalking OAP server.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># The rules define how to aggregate and sort `metrics (Measure)` for services, endpoints, and instances.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - name: Required. The name of the TopN rule, uniquely identifies the rule.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - metricName: Required. The name of the metric to be aggregated.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - groupByTagNames: Optional, default `[]`. The tag names to group the metrics by. If not specified, the metrics will sort without grouped.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - countersNumber: Optional, default `1000`. The max size of entries in a time window for the pre-aggregation.</span><span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># The size of LRU determines the maximally tolerated time range.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># The buffers in the time range are kept in the memory so that</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># the data in [T - lruSize * n, T] would be accepted in the pre-aggregation process.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># T = the current time in the current dimensionality.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># n = interval in the current dimensionality.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - lruSizeMinute: Optional, default `10`. Defines how many time_buckets are held in the memory for minute-level metrics.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - lruSizeHourDay: Optional, default `2`. Defines how many time_buckets are held in the memory for hour and day-level metrics.</span><span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - sort: Optional, default `all`. The sorting order for the metrics, asc, des or all(include both asc and des).</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># - excludes: Optional, default `[]`. The tag values to be excluded from the candidates. If specified, the candidates will not include the entries with the specified tag values.</span><span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">TopN-Rules</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#998;font-style:italic"># endpoint metrics</span><span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#998;font-style:italic"># `attr0` is defined in the `EndpointDecorator` as the Layer.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_cpm<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_cpm<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_cpm-layer<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_cpm<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- attr0<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_cpm-service<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_cpm<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- service_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_sla<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_sla<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>asc<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_sla-layer<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_sla<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- attr0<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>asc<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_sla-service<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_sla<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- service_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>asc<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_resp_time<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_resp_time<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_resp_time-layer<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_resp_time<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- attr0<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>endpoint_resp_time-service<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>endpoint_resp_time<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- service_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># browser_app_page_pv metrics</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>browser_app_page_pv-service<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>browser_app_page_pv<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- service_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>browser_app_page_error_sum-service<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>browser_app_page_error_sum<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- service_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>browser_app_page_error_rate-service<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">metricName</span>:<span style="color:#bbb"> </span>browser_app_page_error_rate<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">groupByTagNames</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- service_id<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">sort</span>:<span style="color:#bbb"> </span>des<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># The following rule can be used to filter out the mesh endpoints.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># You MUST add `attr0!= MESH` to the MQE topN query to hit this rule.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#  - name: endpoint_cpm-service</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#    metricName: endpoint_cpm</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#    groupByTagNames:</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#      - service_id</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#    sort: des</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#    excludes:</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#      - tag: attr0</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#        value: MESH</span><span style="color:#bbb">
</span></code></pre></div><h3 id="installation-modes">Installation Modes</h3>
<p>BanyanDB Server supports two installation modes:</p>
<ul>
<li><strong>Standalone Mode</strong>: Suitable for small-scale deployments.
<ul>
<li><strong>Configuration</strong>: <code>targets</code> is the IP address/hostname and port of the BanyanDB server.</li>
</ul>
</li>
</ul>
<p>Use the docker mode to run BanyanDB containerized.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#998;font-style:italic"># The compatible version number could be found in /config/bydb.dependencies.properties</span>
<span style="color:#0086b3">export</span> <span style="color:#008080">BYDB_VERSION</span><span style="color:#000;font-weight:bold">=</span>xxx

docker pull apache/skywalking-banyandb:<span style="color:#d14">${</span><span style="color:#008080">BYDB_VERSION</span><span style="color:#d14">}</span>

docker run -d <span style="color:#d14">\
</span><span style="color:#d14"></span>  -p 17912:17912 <span style="color:#d14">\
</span><span style="color:#d14"></span>  -p 17913:17913 <span style="color:#d14">\
</span><span style="color:#d14"></span>  --name banyandb <span style="color:#d14">\
</span><span style="color:#d14"></span>  apache/skywalking-banyandb:<span style="color:#d14">${</span><span style="color:#008080">BYDB_VERSION</span><span style="color:#d14">}</span> <span style="color:#d14">\
</span><span style="color:#d14"></span>  standalone
</code></pre></div><p>Or use the development builds for latest and unreleased features, all versions are available <a href="https://github.com/apache/skywalking-banyandb/pkgs/container/skywalking-banyandb">here</a>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker pull apache/skywalking-banyandb:latest

docker run -d <span style="color:#d14">\
</span><span style="color:#d14"></span>  -p 17912:17912 <span style="color:#d14">\
</span><span style="color:#d14"></span>  -p 17913:17913 <span style="color:#d14">\
</span><span style="color:#d14"></span>  --name banyandb <span style="color:#d14">\
</span><span style="color:#d14"></span>  ghcr.io/apache/skywalking-banyandb:xxxxxx <span style="color:#d14">\
</span><span style="color:#d14"></span>  standalone
</code></pre></div><ul>
<li><strong>Cluster Mode</strong>: Suitable for large-scale deployments.
<ul>
<li><strong>Configuration</strong>: <code>targets</code> is the IP address/hostname and port of the <code>liaison</code> nodes, separated by commas. <code>Liaison</code> nodes are the entry points of the BanyanDB cluster.</li>
</ul>
</li>
</ul>
<p>For more details, refer to the documentation of <a href="https://skywalking.apache.org/docs/skywalking-banyandb/latest/readme/">BanyanDB</a> and the <a href="https://github.com/apache/skywalking-banyandb-java-client">BanyanDB Java Client</a> subprojects.</p>

</div>
<div>
  
  
  
  <div id="edit-github">
    <svg
      fill="currentColor"
      height="20"
      width="20"
      viewBox="0 0 40 40"
      aria-hidden="true"
      style="margin-right: 0.1em;vertical-align: sub; color: #3176d9">
      <g>
        <path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z" />
      </g>
    </svg>
    <a class="github-link" title="Edit this page" href="" target="_blank">
      <span id="edit-github-text">Edit this page</span>
    </a>
  </div>
  
</div>
<script>
  let reg = /\/docs\/[a-zA-Z\-]+\/([\w|\.]+)\//;
  let res = reg.exec(location.href);
  let version = res && res[1];
  let editGithub = document.getElementById("edit-github");
  if (editGithub) {
    editGithub.style.display = version === "next" ? "block" : "none";
  }
  
  if (version === "next") {
    reg = /\/docs\/(.+?)\//;
    let repoRes = reg.exec(location.href);
    let repo = repoRes && repoRes[1];
    if (repo === "main") {
      repo = "skywalking"
    }
    reg = /\/next\/(.+)/;
    let docs = reg.exec(location.href);
    let docsUrl = docs && docs[1];
    if (docsUrl) {
      docsUrl = docsUrl.replace(/readme/i, 'README');
    }
    let prefixUrl = "https://github.com/apache/" + repo + "/blob/master/docs/";
    let editGithubLink = document.querySelector("#edit-github a");
    if (editGithubLink) {
      editGithubLink.href = prefixUrl + docsUrl.replace(/\/$/, ".md");
    }
  }
</script>

            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#banyandb">BanyanDB</a>
          <ul>
            <li><a href="#configuration">Configuration</a></li>
            <li><a href="#topn-rules-configuration">TopN Rules Configuration</a></li>
            <li><a href="#installation-modes">Installation Modes</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2025 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.d00d7a99f9e61382b1db35fac38e0e7bdd97f8d3c663a4c4b8d02c3f1d78d894.js" integrity="sha256-0A16mfnmE4Kx2zX6w44Oe92X&#43;NPGY6TEuNAsPx142JQ=" crossorigin="anonymous"></script>


<script src="/js/highlight.min.js"></script>
<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('pre code.language-json5').forEach((block) => {
      if (block.classList.contains('language-json5')) {
        try {
          hljs.registerLanguage('json5', function(hljs) {
            return hljs.getLanguage('json');
          });
          hljs.highlightElement(block);
        } catch (error) {
          console.error("Error parsing JSON5:", error);
        }
      }
    });
  });
</script>


<script defer
src="https://widget.kapa.ai/kapa-widget.bundle.js"
data-website-id="8a08392b-9c4d-4816-8bc4-f93e0ecdd2a7"
data-project-name="SkyWalking"
data-project-color="#2B74B8"
data-button-text="Ask AI"
data-search-mode-enabled="true"
data-modal-open-on-command-k="true"
data-modal-disclaimer="The AI supports multiple languages, but it may not be accessible in China, a proxy is required."
data-project-logo="https://miro.medium.com/v2/resize:fit:2400/0*kmS-5BQ8ShAhZ_F4.jpg"
data-modal-example-questions="What is Apache SkyWalking?,How to deploy SkyWalking?,How to inject agents non-intrusively?,How to setup trace sampling?"
data-button-position-top=""
data-button-position-right="20px"
data-button-position-bottom="200px"
data-button-position-left=""
data-consent-required="true"  
data-user-analytics-cookie-enabled="true"  
data-consent-screen-title="Help us improve our AI assistant"  
data-consent-screen-disclaimer="By clicking 'Allow tracking', you consent to anonymous user tracking which helps us improve our service. We don't collect any personally identifiable information."  
data-consent-screen-accept-button-text="Allow tracking"  
data-consent-screen-reject-button-text="No, thanks"
></script>




  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val().toLowerCase();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
