<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta name="generator" content="Hugo 0.80.0" />
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>Backend setup | Apache SkyWalking</title><meta property="og:title" content="Backend setup" />
<meta property="og:description" content="Backend setup SkyWalking backend distribution package includes the following parts:
  bin/cmd scripts, in /bin folder. Includes startup linux shell and Windows cmd scripts for Backend server and UI startup.
  Backend config, in /config folder. Includes settings files of the backend, which are:
 application.yml log4j.xml alarm-settings.yml    Libraries of backend, in /oap-libs folder. All the dependencies of the backend are in it.
  Webapp env, in webapp folder." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/main/latest/en/setup/backend/backend-setup/" />
<meta property="article:published_time" content="2021-03-09T15:01:03+00:00" />
<meta property="article:modified_time" content="2021-03-09T15:01:03+00:00" />
<meta itemprop="name" content="Backend setup">
<meta itemprop="description" content="Backend setup SkyWalking backend distribution package includes the following parts:
  bin/cmd scripts, in /bin folder. Includes startup linux shell and Windows cmd scripts for Backend server and UI startup.
  Backend config, in /config folder. Includes settings files of the backend, which are:
 application.yml log4j.xml alarm-settings.yml    Libraries of backend, in /oap-libs folder. All the dependencies of the backend are in it.
  Webapp env, in webapp folder.">
<meta itemprop="datePublished" content="2021-03-09T15:01:03+00:00" />
<meta itemprop="dateModified" content="2021-03-09T15:01:03+00:00" />
<meta itemprop="wordCount" content="1508">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Backend setup"/>
<meta name="twitter:description" content="Backend setup SkyWalking backend distribution package includes the following parts:
  bin/cmd scripts, in /bin folder. Includes startup linux shell and Windows cmd scripts for Backend server and UI startup.
  Backend config, in /config folder. Includes settings files of the backend, which are:
 application.yml log4j.xml alarm-settings.yml    Libraries of backend, in /oap-libs folder. All the dependencies of the backend are in it.
  Webapp env, in webapp folder."/>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-178891182-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




<link rel="preload" href="/scss/main.min.47fb3abdc4acc7f634ea3832299986022ed5251b9bdb53a1c86cb11b43d390a4.css" as="style">
<link href="/scss/main.min.47fb3abdc4acc7f634ea3832299986022ed5251b9bdb53a1c86cb11b43d390a4.css" rel="stylesheet" integrity="">


<script
        src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>





    <title>Backend setup | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
    <div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img src="/images/logo.png"></span> 
    </a>
    <div class="td-navbar-nav-scroll ml-md-auto" id="navigation">
        <ul class="navbar-nav mt-lg-0">
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Documentations</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/zh" ><span>中文博客</span></a>
			</li>
              
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
              </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                </div>
            </li>
             
            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none td-sidebar">

                    <h5>Documentation: latest</h5>
                    
<ul class="sidebar-menu">
    

    <li>
        
            <a href="/docs/main/latest/readme">Welcome</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Concepts and Designs<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        

            
            <a href="#">What is SkyWalking?<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/overview">Overview and Core concepts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/project-goals">Project Goals</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Probe<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/probe-introduction">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/service-agent">Service auto instrument agent</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/manual-sdk">Manual instrument SDK</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/service-mesh-probe">Service Mesh probe</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Backend<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/backend-overview">Overview</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/oal">Observability Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/mal">Meter Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/lal">Log Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/protocols/readme#query-protocol">Query in OAP</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/ui-overview">UI</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/event/">Event</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Setup<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        

            
            <a href="#">Java agent<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme">Setup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/supported-list">Supported middleware, framework and library</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#table-of-agent-configuration-properties">Agent Configuration Properties</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#optional-plugins">Optional plugins</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#bootstrap-class-plugins">Bootstrap/JVM class plugin</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#advanced-reporters">Advanced reporters</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/java-plugin-development-guide/">Plugin development guide</a>
        
    </li>

    

    <li>
        
            <a href="https://skyapmtest.github.io/Agent-Benchmarks/">Java Agent Performance Test</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/server-agents">All available server agents</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/browser-agent">Browser agent</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Service Mesh<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/istio/readme">Observe Istio Control Plane</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/envoy/als_setting">Observe Service Mesh</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/envoy/metrics_service_setting">Send Envoy metrics to SkyWalking with / without Istio</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Backend<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-setup">Setup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/configuration-vocabulary">Configuration Vocabulary</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-setting-override">Overriding settings</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-ip-port">IP and port setting</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-init-mode">Backend init mode startup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-cluster">Cluster management</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-k8s">Deploy in kubernetes</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-storage">Choose storage</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-receivers">Set receivers</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-fetcher">Open fetchers</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/trace-sampling">Trace sampling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/slow-db-statement">Slow DB statement threshold</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/backend-oal-scripts">OAL scripts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-alarm">Alarm</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/advanced-deployment">Advanced deployment options</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/metrics-exporter">Metrics exporter</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/ttl">Time To Live (TTL)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/dynamic-config">Dynamic Configuration</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/uninstrumented-gateways">Uninstrumented Gateways</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/apdex-threshold">Apdex threshold</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/service-auto-grouping">Service Grouping</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/endpoint-grouping-rules">Group Parameterized Endpoints</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/backend-receivers#opentelemetry-receiver">OpenTelemetry Metrics Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-meter">Meter Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/spring-sleuth-setup">Spring Sleuth Metrics Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/log-analyzer">Log Analyzer</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/ui-setup">UI Setup</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI Setup</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/ui/readme">UI Introduction</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Contributing Guides<i class="fa fa-angle-left pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/guides/readme">Contribute</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/asf/committer">Become a committer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/how-to-build">Compiling Guide</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/java-plugin-development-guide">Agent plugin development guide</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/protocols/readme">Protocols</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/faq/readme">FAQs</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking/tree/master/changes">Changelog</a>
        
    </li>

    

</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>
                    <div class="commit-id">Commit Id: a202144</div>
                    






</div>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#requirements-and-default-settings">Requirements and default settings</a>
      <ul>
        <li><a href="#interaction">Interaction</a></li>
      </ul>
    </li>
    <li><a href="#startup-script">Startup script</a></li>
    <li><a href="#applicationyml">application.yml</a></li>
    <li><a href="#configuration-vocabulary">Configuration Vocabulary</a></li>
    <li><a href="#advanced-feature-document-link-list">Advanced feature document link list</a></li>
    <li><a href="#telemetry-for-backend">Telemetry for backend</a></li>
    <li><a href="#faqs">FAQs</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;

    window.onscroll = debounce(setTop)

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fix')
      } else {
        $toc.removeClass('fix')
      }
    }

    function debounce(fn, wait = 200) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="fa fa-bars doc-menu-button"></i>
              
<div class="td-content">











	<h1 id="backend-setup">Backend setup</h1>
<p>SkyWalking backend distribution package includes the following parts:</p>
<ol>
<li>
<p><strong>bin/cmd scripts</strong>, in <code>/bin</code> folder. Includes startup linux shell and Windows cmd scripts for Backend
server and UI startup.</p>
</li>
<li>
<p><strong>Backend config</strong>, in <code>/config</code> folder. Includes settings files of the backend, which are:</p>
<ul>
<li><code>application.yml</code></li>
<li><code>log4j.xml</code></li>
<li><code>alarm-settings.yml</code></li>
</ul>
</li>
<li>
<p><strong>Libraries of backend</strong>, in <code>/oap-libs</code> folder. All the dependencies of the backend are in it.</p>
</li>
<li>
<p><strong>Webapp env</strong>, in <code>webapp</code> folder. UI frontend jar file is here, with its <code>webapp.yml</code> setting file.</p>
</li>
</ol>
<h2 id="requirements-and-default-settings">Requirements and default settings</h2>
<p>Requirement: <strong>JDK8 to JDK12 are tested</strong>, other versions are not tested and may or may not work.</p>
<p>Before you start, you should know that the quickstart aims to get you a basic configuration mostly for previews/demo, performance and long-term running are not our goals.</p>
<p>For production/QA/tests environments, you should head to <a href="#deploy-backend-and-ui">Backend and UI deployment documents</a>.</p>
<p>You can use <code>bin/startup.sh</code> (or cmd) to startup the backend and UI with their default settings, which are:</p>
<ul>
<li>Backend storage uses <strong>H2 by default</strong> (for an easier start)</li>
<li>Backend listens <code>0.0.0.0/11800</code> for gRPC APIs and <code>0.0.0.0/12800</code> for http rest APIs.</li>
</ul>
<p>In Java, DotNetCore, Node.js, Istio agents/probe, you should set the gRPC service address to <code>ip/host:11800</code>, with ip/host where your backend is.</p>
<ul>
<li>UI listens on <code>8080</code> port and request <code>127.0.0.1/12800</code> to do GraphQL query.</li>
</ul>
<h3 id="interaction">Interaction</h3>
<p>Before deploying Skywalking in your distributed environment, you should know how agents/probes, backend, UI communicates with each other:</p>
<img src="https://skywalking.apache.org/doc-graph/communication-net.png"/>
<ul>
<li>All native agents and probes, either language based or mesh probe, are using gRPC service (<code>core/default/gRPC*</code> in <code>application.yml</code>) to report data to the backend. Also, jetty service supported in JSON format.</li>
<li>UI uses GraphQL (HTTP) query to access the backend also in Jetty service (<code>core/default/rest*</code> in <code>application.yml</code>).</li>
</ul>
<h2 id="startup-script">Startup script</h2>
<p>The default startup scripts are <code>/bin/oapService.sh</code>(.bat).
Read <a href="../backend-start-up-mode">start up mode</a> document to know other options
of starting backend.</p>
<h2 id="applicationyml">application.yml</h2>
<p>SkyWalking backend startup behaviours are driven by <code>config/application.yml</code>.
Understood the setting file will help you to read this document.
The core concept behind this setting file is, SkyWalking collector is based on pure modularization design.
End user can switch or assemble the collector features by their own requirements.</p>
<p>So, in <code>application.yml</code>, there are three levels.</p>
<ol>
<li><strong>Level 1</strong>, module name. Meaning this module is active in running mode.</li>
<li><strong>Level 2</strong>, provider option list and provider selector. Available providers are listed here with a selector to indicate which one will actually take effect,
if there is only one provider listed, the <code>selector</code> is optional and can be omitted.</li>
<li><strong>Level 3</strong>. settings of the provider.</li>
</ol>
<p>Example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">storage</span>:
  <span style="color:#f92672">selector</span>: <span style="color:#ae81ff">mysql</span> <span style="color:#75715e"># the mysql storage will actually be activated, while the h2 storage takes no effect</span>
  <span style="color:#f92672">h2</span>:
    <span style="color:#f92672">driver</span>: <span style="color:#ae81ff">${SW_STORAGE_H2_DRIVER:org.h2.jdbcx.JdbcDataSource}</span>
    <span style="color:#f92672">url</span>: <span style="color:#ae81ff">${SW_STORAGE_H2_URL:jdbc:h2:mem:skywalking-oap-db}</span>
    <span style="color:#f92672">user</span>: <span style="color:#ae81ff">${SW_STORAGE_H2_USER:sa}</span>
    <span style="color:#f92672">metadataQueryMaxSize</span>: <span style="color:#ae81ff">${SW_STORAGE_H2_QUERY_MAX_SIZE:5000}</span>
  <span style="color:#f92672">mysql</span>:
    <span style="color:#f92672">properties</span>:
      <span style="color:#f92672">jdbcUrl</span>: <span style="color:#ae81ff">${SW_JDBC_URL:&#34;jdbc:mysql://localhost:3306/swtest&#34;}</span>
      <span style="color:#f92672">dataSource.user</span>: <span style="color:#ae81ff">${SW_DATA_SOURCE_USER:root}</span>
      <span style="color:#f92672">dataSource.password</span>: <span style="color:#ae81ff">${SW_DATA_SOURCE_PASSWORD:root@1234}</span>
      <span style="color:#f92672">dataSource.cachePrepStmts</span>: <span style="color:#ae81ff">${SW_DATA_SOURCE_CACHE_PREP_STMTS:true}</span>
      <span style="color:#f92672">dataSource.prepStmtCacheSize</span>: <span style="color:#ae81ff">${SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_SIZE:250}</span>
      <span style="color:#f92672">dataSource.prepStmtCacheSqlLimit</span>: <span style="color:#ae81ff">${SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_LIMIT:2048}</span>
      <span style="color:#f92672">dataSource.useServerPrepStmts</span>: <span style="color:#ae81ff">${SW_DATA_SOURCE_USE_SERVER_PREP_STMTS:true}</span>
    <span style="color:#f92672">metadataQueryMaxSize</span>: <span style="color:#ae81ff">${SW_STORAGE_MYSQL_QUERY_MAX_SIZE:5000}</span>
  <span style="color:#75715e"># other configurations</span>
</code></pre></div><ol>
<li><strong><code>storage</code></strong> is the module.</li>
<li><strong><code>selector</code></strong> selects one out of the all providers listed below, the unselected ones take no effect as if they were deleted.</li>
<li><strong><code>default</code></strong> is the default implementor of core module.</li>
<li><code>driver</code>, <code>url</code>, &hellip; <code>metadataQueryMaxSize</code> are all setting items of the implementor.</li>
</ol>
<p>At the same time, modules includes required and optional, the required modules provide the skeleton of backend,
even modularization supported pluggable, removing those modules are meaningless, for optional modules, some of them have
a provider implementation called <code>none</code>, meaning it only provides a shell with no actual logic, typically such as telemetry.
Setting <code>-</code> to the <code>selector</code> means this whole module will be excluded at runtime.
We highly recommend you don&rsquo;t try to change APIs of those modules, unless you understand SkyWalking project and its codes very well.</p>
<p>List the required modules here</p>
<ol>
<li><strong>Core</strong>. Do basic and major skeleton of all data analysis and stream dispatch.</li>
<li><strong>Cluster</strong>. Manage multiple backend instances in a cluster, which could provide high throughputs process
capabilities.</li>
<li><strong>Storage</strong>. Make the analysis result persistence.</li>
<li><strong>Query</strong>. Provide query interfaces to UI.</li>
</ol>
<p>For <strong>Cluster</strong> and <strong>Storage</strong> have provided multiple implementors(providers), see <strong>Cluster management</strong>
and <strong>Choose storage</strong> documents in the <a href="#advanced-feature-document-link-list">link list</a>.</p>
<p>Also, several <strong>receiver</strong> modules are provided.
Receiver is the module in charge of accepting incoming data requests to backend. Most(all) provide
service by some network(RPC) protocol, such as gRPC, HTTPRestful.<br>
The receivers have many different module names, you could
read <strong>Set receivers</strong> document in the <a href="#advanced-feature-document-link-list">link list</a>.</p>
<h2 id="configuration-vocabulary">Configuration Vocabulary</h2>
<p>All available configurations in <code>application.yml</code> could be found in <a href="../configuration-vocabulary">Configuration Vocabulary</a>.</p>
<h2 id="advanced-feature-document-link-list">Advanced feature document link list</h2>
<p>After understand the setting file structure, you could choose your interesting feature document.
We recommend you to read the feature documents in our following order.</p>
<ol>
<li><a href="../backend-setting-override">Overriding settings</a> in application.yml is supported</li>
<li><a href="../backend-ip-port">IP and port setting</a>. Introduce how IP and port set and be used.</li>
<li><a href="../backend-init-mode">Backend init mode startup</a>. How to init the environment and exit graciously.
Read this before you try to initial a new cluster.</li>
<li><a href="../backend-cluster">Cluster management</a>. Guide you to set backend server in cluster mode.</li>
<li><a href="../backend-k8s">Deploy in kubernetes</a>. Guide you to build and use SkyWalking image, and deploy in k8s.</li>
<li><a href="../backend-storage">Choose storage</a>. As we know, in default quick start, backend is running with H2
DB. But clearly, it doesn&rsquo;t fit the product env. In here, you could find what other choices do you have.
Choose the ones you like, we are also welcome anyone to contribute new storage implementor.</li>
<li><a href="../backend-receivers">Set receivers</a>. You could choose receivers by your requirements, most receivers
are harmless, at least our default receivers are. You would set and active all receivers provided.</li>
<li><a href="../backend-fetcher">Open fetchers</a>. You could open different fetchers to read metrics from the target applications.
These ones work like receivers, but in pulling mode, typically like Prometheus.</li>
<li><a href="../backend-token-auth">Token authentication</a>. You could add token authentication mechanisms to avoid <code>OAP</code> receiving untrusted data.</li>
<li>Do <a href="../trace-sampling">trace sampling</a> at backend. This sample keep the metrics accurate, only don&rsquo;t save some of traces
in storage based on rate.</li>
<li>Follow <a href="../slow-db-statement">slow DB statement threshold</a> config document to understand that,
how to detect the Slow database statements(including SQL statements) in your system.</li>
<li>Official <a href="../../../guides/backend-oal-scripts">OAL scripts</a>. As you have known from our <a href="../../../concepts-and-designs/oal">OAL introduction</a>,
most of backend analysis capabilities based on the scripts. Here is the description of official scripts,
which helps you to understand which metrics data are in process, also could be used in alarm.</li>
<li><a href="../backend-alarm">Alarm</a>. Alarm provides a time-series based check mechanism. You could set alarm
rules targeting the analysis oal metrics objects.</li>
<li><a href="../advanced-deployment">Advanced deployment options</a>. If you want to deploy backend in very large
scale and support high payload, you may need this.</li>
<li><a href="../metrics-exporter">Metrics exporter</a>. Use metrics data exporter to forward metrics data to 3rd party
system.</li>
<li><a href="../ttl">Time To Live (TTL)</a>. Metrics and trace are time series data, TTL settings affect the expired time of them.</li>
<li><a href="../dynamic-config">Dynamic Configuration</a>. Make configuration of OAP changed dynamic, from remote service
or 3rd party configuration management system.</li>
<li><a href="../uninstrumented-gateways">Uninstrumented Gateways</a>. Configure gateways/proxies that are not supported by SkyWalking agent plugins,
to reflect the delegation in topology graph.</li>
<li><a href="../apdex-threshold">Apdex threshold</a>. Configure the thresholds for different services if Apdex calculation is activated in the OAL.</li>
<li><a href="../service-auto-grouping">Service Grouping</a>. An automatic grouping mechanism for all services based on name.</li>
<li><a href="../endpoint-grouping-rules">Group Parameterized Endpoints</a>. Configure the grouping rules for parameterized endpoints,
to improve the meaning of the metrics.</li>
<li><a href="../backend-receivers#opentelemetry-receiver">OpenTelemetry Metrics Analysis</a>. Activate built-in configurations to convert the metrics forwarded from OpenTelemetry collector.
And learn how to write your own conversion rules.</li>
<li><a href="../backend-meter">Meter Analysis</a>. Set up the backend analysis rules, when use <a href="../../service-agent/java-agent/readme#advanced-features">SkyWalking Meter System Toolkit</a>
or meter plugins.</li>
<li><a href="../spring-sleuth-setup">Spring Sleuth Metrics Analysis</a>. Configure the agent and backend to receiver metrics from micrometer.</li>
<li><a href="../log-analyzer">Log Analyzer</a></li>
</ol>
<h2 id="telemetry-for-backend">Telemetry for backend</h2>
<p>OAP backend cluster itself underlying is a distributed streaming process system. For helping the Ops team,
we provide the telemetry for OAP backend itself. Follow <a href="../backend-telemetry">document</a> to use it.</p>
<p>At the same time, we provide <a href="../backend-health-check">Health Check</a> to get a score for the health status.</p>
<blockquote>
<p>0 means healthy, more than 0 means unhealthy
and less than 0 means oap doesn&rsquo;t startup.</p>
</blockquote>
<h2 id="faqs">FAQs</h2>
<h4 id="when-and-why-do-we-need-to-set-timezone">When and why do we need to set Timezone?</h4>
<p>SkyWalking provides downsampling time series metrics features.
Query and storage at each time dimension(minute, hour, day, month metrics indexes)
related to timezone when doing time format.</p>
<p>For example, metrics time will be formatted like YYYYMMDDHHmm in minute dimension metrics,
which format process is timezone related.</p>
<p>In default, SkyWalking OAP backend choose the OS default timezone.
If you want to override it, please follow Java and OS documents to do so.</p>
<h4 id="how-to-query-the-storage-directly-from-3rd-party-tool">How to query the storage directly from 3rd party tool?</h4>
<p>SkyWalking provides browser UI, CLI and GraphQL ways to support extensions. But some users may have the idea to query data
directly from the storage. Such as in ElasticSearch case, Kibana is a great tool to do this.</p>
<p>In default, due to reduce memory, network and storage space usages, SkyWalking saves based64-encoded id(s) only in the metrics entities.
But these tools usually don&rsquo;t support nested query, or don&rsquo;t work conveniently. In this special case,
SkyWalking provide a config to add all necessary name column(s) into the final metrics entities with ID as a trade-off.</p>
<p>Take a look at <code>core/default/activeExtraModelColumns</code> config in the <code>application.yaml</code>, and set it as <code>true</code> to open this feature.</p>
<p>This feature wouldn&rsquo;t provide any new feature to the native SkyWalking scenarios, just for the 3rd party integration.</p>




</div>


          </main>
        </div>
      </div>

      
<footer class="bg-dark py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-white" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/apache/skywalking">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-white">&copy; 2017 - 2021 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-white   mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/zh/" class="nav-link">中文博客</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title">Links</span> <span
                    class="arrow down"></span></a>
                <ul class="nav-dropdown" style="">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.bundle.min.js"></script>








<script src="/js/main.min.d1db5f048cae0266dd8434e5c9f97e7ea03718c3a0a74730f35bcc33fa2f4993.js" integrity="sha256-0dtfBIyuAmbdhDTlyfl&#43;fqA3GMOgp0cw81vMM/ovSZM=" crossorigin="anonymous"></script>





  </body>
  <script>
    $('.doc-menu-button').on('click',function (){
      $('.td-sidebar').toggleClass('active')
    })
  </script>
</html>
