<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-GR8N6PGRJ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);};
  gtag('js', new Date());gtag('config', 'G-GR8N6PGRJ3');
</script>
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>Create Span | Apache SkyWalking</title><meta property="og:title" content="Create Span" />
<meta property="og:description" content="Create Span   Use Tracer.createEntrySpan() API to create entry span, and then use SpanRef to contain the reference of created span in agent kernel. The first parameter is operation name of span and the second parameter is the ContextCarrierRef instance which is the reference of contextcarrier in agent kernel. If the second parameter is not null, the process of creating entry span will do the extract operation which will be introduced in inject/extract scenario." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-tracer/" />

<meta itemprop="name" content="Create Span">
<meta itemprop="description" content="Create Span   Use Tracer.createEntrySpan() API to create entry span, and then use SpanRef to contain the reference of created span in agent kernel. The first parameter is operation name of span and the second parameter is the ContextCarrierRef instance which is the reference of contextcarrier in agent kernel. If the second parameter is not null, the process of creating entry span will do the extract operation which will be introduced in inject/extract scenario.">

<meta itemprop="wordCount" content="794">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Create Span"/>
<meta name="twitter:description" content="Create Span   Use Tracer.createEntrySpan() API to create entry span, and then use SpanRef to contain the reference of created span in agent kernel. The first parameter is operation name of span and the second parameter is the ContextCarrierRef instance which is the reference of contextcarrier in agent kernel. If the second parameter is not null, the process of creating entry span will do the extract operation which will be introduced in inject/extract scenario."/>



<link rel="preload" href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" as="style">
<link href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>Create Span | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none scroll-bar td-sidebar">














                  <div class="description-wrapper">
                    <h5>
                    <img width="26" height="26" src="/images/project/java-agent.svg">
                    Java Agent
                    </h5>
                    <p>The Java Agent for Apache SkyWalking, which provides the native tracing/metrics/logging/event/profiling abilities for Java projects.</p>
                  </div>
                  
                  <div class="version-wrapper">Version: 
                  <select class="version-select">
                  
                    
                    
                    <option ZgotmplZ value="next">
                    
                      next
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="latest">
                    
                      latest
                    
                    </option>
                  
                    
                    
                    <option selected value="v9.1.0">
                    
                      v9.1.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.0.0">
                    
                      v9.0.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v8.16.0">
                    
                      v8.16.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v8.15.0">
                    
                      v8.15.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v8.14.0">
                    
                      v8.14.0
                    
                    </option>
                  
                  </select>
                  </div>
                  
                  <ul class="sidebar-menu">
    
    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/readme">Java Agent Setup</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Container Environment<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/containerization#docker">Setup in Docker</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/containerization#kubernetes">Setup in Kubernetes</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Advanced Features<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/advanced-features">Guidance</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/setting-override">Setting Override</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/tls">Transport Layer Security (TLS)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/token-auth">Token Authentication</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Manual APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">Tracing APIs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-dependency">Add Trace Toolkit Dependencies</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-tracer">Use Native Tracer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-trace-read-context">Read Tracing Context</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-trace-annotation">Annotations</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-trace-correlation-context">Use Correlation Context</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-trace-cross-thread">Across Thread Solution</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/opentracing">OpenTracing (Deprecated)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-meter">Meter APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-micrometer">Micrometer Registry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-micrometer-1.10">Micrometer 1.10 Observation</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-webflux">Webflux Tracing Assistant APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-kafka">Kafka Tracing Assistant APIs</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/how-to-tolerate-exceptions">Tolerate Custom Exceptions</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Log &amp; Trace Correlation<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-log4j-1.x">Log4j</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-log4j-2.x">Log4j2</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/application-toolkit-logback-1.x/">Logback</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/logic-endpoint">Logic Endpoint</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Plugins<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/supported-list">Supported middleware, framework and library</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/optional-plugins">Optional Plugins</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/bootstrap-plugins">Bootstrap/JVM class plugin</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/configurations">Agent Configuration Properties</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/configuration-discovery">Dynamic Configurations</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/advanced-reporters">Advanced reporters</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/setup/service-agent/java-agent/java-plugin-development-guide/">Plugin development guide</a>
        
    </li>

    

    <li>
        
            <a href="https://skyapmtest.github.io/Agent-Benchmarks/">Java Agent Performance Test</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">FAQs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/faq/ext-dirs">Why is java.ext.dirs not supported?</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/faq/osgi">How to make SkyWalking agent works in `OSGI` environment?</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Contribution<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/contribution/compiling/">Compiling Guidance</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-java/v9.1.0/en/contribution/release-java-agent/">Java Agent Release Guidance</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="https://github.com/apache/skywalking-java/tree/master/changes">Changelog</a>
        
    </li>
    
</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>

                  <div class="commit-id">Commit Id: bf18ab1</div>
                





























</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="iconfont icon-menu-doc doc-menu-button"></i>
              
<div class="td-content">











	<h1 id="create-span">Create Span</h1>
<ul>
<li>
<p>Use <code>Tracer.createEntrySpan()</code> API to create entry span, and then use <code>SpanRef</code> to contain the reference of created span in agent kernel. The first parameter is operation name of span and the second parameter is the <code>ContextCarrierRef</code> instance which is the reference of contextcarrier in agent kernel. If the second parameter is not null, the process of creating entry span will do the extract operation which will be introduced in <strong>inject/extract</strong> scenario.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.Tracer</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
    
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createEntrySpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div></li>
<li>
<p>Use <code>Tracer.createLocalSpan()</code> API to create local span, the only parameter is the operation name of span.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.Tracer</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
    
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLocalSpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div></li>
<li>
<p>Use <code>Tracer.createExitSpan()</code> API to create exit span</p>
<ul>
<li>
<p><strong>two parameters case</strong>: the first parameter is the operation name of span, the second parameter is the remote peer which means the peer address of exit operation.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.Tracer</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
      
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createExitSpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;${remotePeer}&#34;</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div></li>
<li>
<p><strong>three parameters case</strong>: the first parameter is the operation name of span, the second parameter is the <code>ContextCarrierRef</code> instance and the third parameter is the remote peer. This case will be introduced in <strong>inject/extract</strong> scenario.</p>
</li>
</ul>
</li>
<li>
<p>Use <code>Tracer.stopSpan()</code> API to stop current span</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.Tracer</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
    
Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stopSpan</span><span style="color:#000;font-weight:bold">();</span>
</code></pre></div></li>
</ul>
<h1 id="injectextract-context-carrier">Inject/Extract Context Carrier</h1>
<p>The Inject/extract is to pass context information between different process. The <code>ContextCarrierRef</code> contains the reference of <code>ContextCarrier</code> and the <code>CarrierItemRef</code> contains the reference of CarrierItem. The <code>CarrierItem</code> instances compose a linked list.</p>
<ul>
<li>Use <code>Tracer.inject()</code> to inject information of current context into carrier</li>
<li>Use <code>Tracer.extract()</code> to extract info from contextCarrier.</li>
<li>Use <code>items()</code> of <code>ContextCarrierRef</code> instance to get head <code>CarrierItemRef</code> instance.</li>
<li>Use <code>hasNext()</code> of <code>CarrierItemRef</code> instance to judge if the <code>CarrierItemRef</code> has next item.</li>
<li>Use <code>next()</code> of <code>CarrierItemRef</code> instance to get next item</li>
<li>Use <code>getHeadKey</code> of <code>CarrierItemRef</code> instance to get key of current item</li>
<li>Use <code>getHeadValue</code> of <code>CarrierItemRef</code> instance to get value of current item</li>
<li>Use <code>setHeadValue</code> of <code>CarrierItemRef</code> instance to set value of current item</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">/* 
</span><span style="color:#998;font-style:italic">	You can consider map as the message&#39;s header/metadata, such as Http, MQ and RPC. 
</span><span style="color:#998;font-style:italic">	Do the inject operation in one process and then pass the map in header/metadata.
</span><span style="color:#998;font-style:italic">*/</span>
ContextCarrierRef contextCarrierRef <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ContextCarrierRef<span style="color:#000;font-weight:bold">();</span>
Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">inject</span><span style="color:#000;font-weight:bold">(</span>contextCarrierRef<span style="color:#000;font-weight:bold">);</span>
Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
CarrierItemRef next <span style="color:#000;font-weight:bold">=</span> contextCarrierRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">items</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
    next <span style="color:#000;font-weight:bold">=</span> next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
    map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHeadKey</span><span style="color:#000;font-weight:bold">(),</span> next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHeadValue</span><span style="color:#000;font-weight:bold">());</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">...</span>
 
</code></pre></div><p>note: Inject can be done only in Exit Span</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#998;font-style:italic">// Receive the map representing a header/metadata and do the extract operation in another process. 
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">...</span>

ContextCarrierRef contextCarrierRef <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ContextCarrierRef<span style="color:#000;font-weight:bold">();</span>
CarrierItemRef next <span style="color:#000;font-weight:bold">=</span> contextCarrierRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">items</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">((</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
	next <span style="color:#000;font-weight:bold">=</span> next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
	String value <span style="color:#000;font-weight:bold">=</span> map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHeadKey</span><span style="color:#000;font-weight:bold">());</span>
	<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">!=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">){</span>
		next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setHeadValue</span><span style="color:#000;font-weight:bold">(</span>value<span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">extract</span><span style="color:#000;font-weight:bold">(</span>contextCarrierRef<span style="color:#000;font-weight:bold">);</span>
</code></pre></div><p>Also, you can do the inject/extract operation when creating exit/entry span.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ContextCarrierRef contextCarrierRef <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ContextCarrierRef<span style="color:#000;font-weight:bold">();</span>
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createExitSpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;operationName&#34;</span><span style="color:#000;font-weight:bold">,</span> contextCarrierRef<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;remotePeer&#34;</span><span style="color:#000;font-weight:bold">);</span>
Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
CarrierItemRef next <span style="color:#000;font-weight:bold">=</span> contextCarrierRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">items</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
    next <span style="color:#000;font-weight:bold">=</span> next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
    map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHeadKey</span><span style="color:#000;font-weight:bold">(),</span> next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHeadValue</span><span style="color:#000;font-weight:bold">());</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">...</span>

</code></pre></div><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">...</span>

ContextCarrierRef contextCarrierRef <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ContextCarrierRef<span style="color:#000;font-weight:bold">();</span>
CarrierItemRef next <span style="color:#000;font-weight:bold">=</span> contextCarrierRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">items</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">((</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">hasNext</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
	next <span style="color:#000;font-weight:bold">=</span> next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">();</span>
	String value <span style="color:#000;font-weight:bold">=</span> map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getHeadKey</span><span style="color:#000;font-weight:bold">());</span>
	<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">!=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">){</span>
		next<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setHeadValue</span><span style="color:#000;font-weight:bold">(</span>value<span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createEntrySpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">,</span> contextCarrierRef<span style="color:#000;font-weight:bold">);</span>
</code></pre></div><h1 id="capturecontinue-context-snapshot">Capture/Continue Context Snapshot</h1>
<ul>
<li>
<p>Use <code>Tracer.capture()</code> to capture the segment info and store it in <code>ContextSnapshotRef</code>, and then use <code>Tracer.continued()</code> to load the snapshot as the ref segment info. The capture/continue is used for tracing context in the x-thread tracing.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.Tracer</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
    
ContextSnapshotRef contextSnapshotRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">capture</span><span style="color:#000;font-weight:bold">();</span>
Thread thread <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Thread<span style="color:#000;font-weight:bold">(()</span> <span style="color:#000;font-weight:bold">-&gt;</span> <span style="color:#000;font-weight:bold">{</span>
    SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLocalSpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">);</span>
    Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">continued</span><span style="color:#000;font-weight:bold">(</span>contextSnapshotRef<span style="color:#000;font-weight:bold">);</span>
      <span style="color:#000;font-weight:bold">...</span>
      
<span style="color:#000;font-weight:bold">});</span>
thread<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">start</span><span style="color:#000;font-weight:bold">();</span>
thread<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">join</span><span style="color:#000;font-weight:bold">();</span>
</code></pre></div></li>
</ul>
<h1 id="add-spans-tag-and-log">Add Span&rsquo;s Tag and Log</h1>
<ul>
<li>
<p>Use <code>log</code> of <code>SpanRef</code> instance to record log in span</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.SpanRef</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
  
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLocalSpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">);</span>
  
<span style="color:#998;font-style:italic">// Throwable parameter
</span><span style="color:#998;font-style:italic"></span>spanRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${exception_message}&#34;</span><span style="color:#000;font-weight:bold">));</span>  
  
<span style="color:#998;font-style:italic">// Map parameter
</span><span style="color:#998;font-style:italic"></span>Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> logMap <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
logMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;event&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;${event_type}&#34;</span><span style="color:#000;font-weight:bold">);</span>
logMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;message&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;${message_value}&#34;</span><span style="color:#000;font-weight:bold">);</span>
spanRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">log</span><span style="color:#000;font-weight:bold">(</span>logMap<span style="color:#000;font-weight:bold">);</span>  
</code></pre></div></li>
<li>
<p>Use <code>tag</code> of <code>SpanRef</code> instance to add tag to span, the parameters of tag are two String which are key and value respectively.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.SpanRef</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
  
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLocalSpan</span><span style="color:#000;font-weight:bold">(</span>operationName<span style="color:#000;font-weight:bold">);</span>
spanRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">tag</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${key}&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;${value}&#34;</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div></li>
</ul>
<h1 id="async-preparefinish">Async Prepare/Finish</h1>
<ul>
<li>
<p>Use <code>prepareForAsync</code> of <code>SpanRef</code> instance to make the span still alive until <code>asyncFinish</code> called, and then in specific time use <code>asyncFinish</code> of this <code>SpanRef</code> instance to notify this span that it could be finished.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.skywalking.apm.toolkit.trace.SpanRef</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">...</span>
  
SpanRef spanRef <span style="color:#000;font-weight:bold">=</span> Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createLocalSpan</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${operationName}&#34;</span><span style="color:#000;font-weight:bold">);</span>
spanRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareForAsync</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#998;font-style:italic">// the span does not finish because of the prepareForAsync() operation
</span><span style="color:#998;font-style:italic"></span>Tracer<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stopSpan</span><span style="color:#000;font-weight:bold">();</span>
Thread thread <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Thread<span style="color:#000;font-weight:bold">(()</span> <span style="color:#000;font-weight:bold">-&gt;</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">...</span>
      
    spanRef<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asyncFinish</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">});</span>
thread<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">start</span><span style="color:#000;font-weight:bold">();</span>
thread<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">join</span><span style="color:#000;font-weight:bold">();</span>
</code></pre></div></li>
</ul>
<h1 id="activespan">ActiveSpan</h1>
<p>You can use the <code>ActiveSpan</code> to get the current span and do some operations.</p>
<ul>
<li>
<p>Add custom tag in the context of traced method, <code>ActiveSpan.tag(&quot;key&quot;, &quot;val&quot;)</code>.</p>
</li>
<li>
<p><code>ActiveSpan.error()</code> Mark the current span as error status.</p>
</li>
<li>
<p><code>ActiveSpan.error(String errorMsg)</code> Mark the current span as error status with a message.</p>
</li>
<li>
<p><code>ActiveSpan.error(Throwable throwable)</code> Mark the current span as error status with a Throwable.</p>
</li>
<li>
<p><code>ActiveSpan.debug(String debugMsg)</code> Add a debug level log message in the current span.</p>
</li>
<li>
<p><code>ActiveSpan.info(String infoMsg)</code> Add an info level log message in the current span.</p>
</li>
<li>
<p><code>ActiveSpan.setOperationName(String operationName)</code> Customize an operation name.</p>
</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">tag</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;my_tag&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;my_value&#34;</span><span style="color:#000;font-weight:bold">);</span>
ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">error</span><span style="color:#000;font-weight:bold">();</span>
ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Test-Error-Reason&#34;</span><span style="color:#000;font-weight:bold">);</span>

ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Test-Error-Throwable&#34;</span><span style="color:#000;font-weight:bold">));</span>
ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Test-Info-Msg&#34;</span><span style="color:#000;font-weight:bold">);</span>
ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">debug</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Test-debug-Msg&#34;</span><span style="color:#000;font-weight:bold">);</span>

ActiveSpan<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setOperationName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;${opetationName}&#34;</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div><p><em>Sample codes only</em></p>




</div>


            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#create-span">Create Span</a></li>
    <li><a href="#injectextract-context-carrier">Inject/Extract Context Carrier</a></li>
    <li><a href="#capturecontinue-context-snapshot">Capture/Continue Context Snapshot</a></li>
    <li><a href="#add-spans-tag-and-log">Add Span&rsquo;s Tag and Log</a></li>
    <li><a href="#async-preparefinish">Async Prepare/Finish</a></li>
    <li><a href="#activespan">ActiveSpan</a></li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2024 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.dc00f5ca911ee5aa105ea6de6b3b7e8d8169ba5a3bf156b1fcfe23dfe3e62b0a.js" integrity="sha256-3AD1ypEe5aoQXqbeazt&#43;jYFpulo78Vax/P4j3&#43;PmKwo=" crossorigin="anonymous"></script>


<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>


<script defer
src="https://widget.kapa.ai/kapa-widget.bundle.js"
data-website-id="8a08392b-9c4d-4816-8bc4-f93e0ecdd2a7"
data-project-name="SkyWalking"
data-project-color="#2B74B8"
data-button-text="Ask AI"
data-search-mode-enabled="true"
data-modal-open-on-command-k="true"
data-modal-disclaimer="The AI supports multiple languages, but it may not be accessible in China, a proxy is required."
data-project-logo="https://miro.medium.com/v2/resize:fit:2400/0*kmS-5BQ8ShAhZ_F4.jpg"
data-modal-example-questions="What is Apache SkyWalking?,How to deploy SkyWalking?,How to inject agents non-intrusively?,How to setup trace sampling?"
data-button-position-top=""
data-button-position-right="20px"
data-button-position-bottom="200px"
data-button-position-left=""
></script>




  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val().toLowerCase();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
