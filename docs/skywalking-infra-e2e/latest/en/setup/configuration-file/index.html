<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">

<meta name="generator" content="Hugo 0.80.0" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-GR8N6PGRJ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);};
  gtag('js', new Date());gtag('config', 'G-GR8N6PGRJ3');
</script>
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/c/font_3007530_pvozs1rz2wn.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>SkyWalking Infra E2E Configuration Guide | Apache SkyWalking</title><meta property="og:title" content="SkyWalking Infra E2E Configuration Guide" />
<meta property="og:description" content="SkyWalking Infra E2E Configuration Guide The configuration file is used to integrate all the step configuration content. You can see the sample configuration files for different environments in the examples directory.
There is a quick view about the configuration file, and using the yaml format.
setup:# set up the environmentcleanup:# clean up the environmenttrigger:# generate trafficverify:# test casesSetup Support two kinds of the environment to set up the system.
KinD setup:env:kindfile:path/to/kind." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/skywalking-infra-e2e/latest/en/setup/configuration-file/" />

<meta itemprop="name" content="SkyWalking Infra E2E Configuration Guide">
<meta itemprop="description" content="SkyWalking Infra E2E Configuration Guide The configuration file is used to integrate all the step configuration content. You can see the sample configuration files for different environments in the examples directory.
There is a quick view about the configuration file, and using the yaml format.
setup:# set up the environmentcleanup:# clean up the environmenttrigger:# generate trafficverify:# test casesSetup Support two kinds of the environment to set up the system.
KinD setup:env:kindfile:path/to/kind.">

<meta itemprop="wordCount" content="1455">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SkyWalking Infra E2E Configuration Guide"/>
<meta name="twitter:description" content="SkyWalking Infra E2E Configuration Guide The configuration file is used to integrate all the step configuration content. You can see the sample configuration files for different environments in the examples directory.
There is a quick view about the configuration file, and using the yaml format.
setup:# set up the environmentcleanup:# clean up the environmenttrigger:# generate trafficverify:# test casesSetup Support two kinds of the environment to set up the system.
KinD setup:env:kindfile:path/to/kind."/>



<link rel="preload" href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" as="style">
<link href="/scss/main.min.592235942cb3c9f3dd697382a4e7a1fad8e1c182dad2841bdce6b43b4a346ae8.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>SkyWalking Infra E2E Configuration Guide | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
            
            
            
            
            
            <li class="nav-item mr-3 mb-lg-0">
                <span class="link dropdown blog">
                    <a class="link-name nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">中文资料</a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/zh/">博客</a>
                        <a class="dropdown-item" href="https://space.bilibili.com/390683219" target="_blank" rel="noopener noreferrer">
                            B站
                        </a>
                        <a class="dropdown-item" href="https://juejin.cn/user/13673577331607" target="_blank" rel="noopener noreferrer">
                            掘金
                        </a>
                    </div>
                </span>
            </li>

            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                    <a class="dropdown-item" href="https://apache.org/foundation/policies/privacy.html">Privacy</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none scroll-bar td-sidebar">









































                  <div class="description-wrapper">
                    <h5>
                    <img width="26" height="26" src="/images/project/skywalking-agent-test-tool.svg">
                    SkyWalking Infra E2E
                    </h5>
                    <p>An End-to-End Testing framework that aims to help developers to set up, debug, and verify E2E tests with ease.</p>
                  </div>
                  
                  <div class="version-wrapper">Version: 
                  <select class="version-select">
                  
                    
                    
                    <option ZgotmplZ value="next">
                    
                      next
                    
                    </option>
                  
                    
                    
                    <option selected value="latest">
                    
                      latest
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v1.3.0">
                    
                      v1.3.0
                    
                    </option>
                  
                  </select>
                  </div>
                  
                  <ul class="sidebar-menu">
    
    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/readme">Welcome</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Concepts and Designs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/concepts-and-designs/readme">Concepts and Designs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/concepts-and-designs/project-goals">Project Goals</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/concepts-and-designs/module-design">Module Design</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/setup/install">Installation</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/setup/configuration-file">Configuration file</a>
        
    </li>

    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/setup/run-e2e-tests">Run E2E Tests</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Contribution<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/skywalking-infra-e2e/latest/en/contribution/compiling-guidance">Compiling Guidance</a>
        
    </li>

    

</ul>

        
    </li>
    
</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>

                  <div class="commit-id">Commit Id: 1485ae0</div>
                


</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="iconfont icon-menu-doc doc-menu-button"></i>
              
<div class="td-content">











	<h1 id="skywalking-infra-e2e-configuration-guide">SkyWalking Infra E2E Configuration Guide</h1>
<p>The configuration file is used to integrate all the step configuration content.
You can see the sample configuration files for different environments in the <a href="https://github.com/apache/skywalking-infra-e2e/tree/1485ae03f0ad90496ad7626a5ae4a6a73a1f6296/examples">examples directory</a>.</p>
<p>There is a quick view about the configuration file, and using the <code>yaml</code> format.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">setup</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># set up the environment</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">cleanup</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># clean up the environment</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">trigger</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># generate traffic</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#000080">verify</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># test cases</span><span style="color:#bbb">
</span></code></pre></div><h2 id="setup">Setup</h2>
<p>Support two kinds of the environment to set up the system.</p>
<h3 id="kind">KinD</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">setup</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">env</span>:<span style="color:#bbb"> </span>kind<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">file</span>:<span style="color:#bbb"> </span>path/to/kind.yaml              <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Specified kinD manifest file path</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">kubeconfig</span>:<span style="color:#bbb"> </span>path/.kube/config        <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># The path of kubeconfig</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">timeout</span>:<span style="color:#bbb"> </span>20m                         <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># timeout duration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">init-system-environment</span>:<span style="color:#bbb"> </span>path/to/env <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Import environment file</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">steps</span>:<span style="color:#bbb">                                </span><span style="color:#998;font-style:italic"># customize steps for prepare the environment</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>customize setups           <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># step name</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#998;font-style:italic"># one of command line or kinD manifest file</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">command</span>:<span style="color:#bbb"> </span>command lines           <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># use command line to setup </span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">path</span>:<span style="color:#bbb"> </span>/path/to/manifest.yaml     <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># the manifest file path</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">wait</span>:<span style="color:#bbb">                             </span><span style="color:#998;font-style:italic"># how to verify the manifest is set up finish</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#000080">namespace</span>:<span style="color:#bbb">                    </span><span style="color:#998;font-style:italic"># The pod namespace</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">resource</span>:<span style="color:#bbb">                     </span><span style="color:#998;font-style:italic"># The pod resource name</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">label-selector</span>:<span style="color:#bbb">               </span><span style="color:#998;font-style:italic"># The resource label selector</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">for</span>:<span style="color:#bbb">                          </span><span style="color:#998;font-style:italic"># The wait condition</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">kind</span>:<span style="color:#bbb">
</span><span style="color:#bbb">     </span><span style="color:#000080">import-images</span>:<span style="color:#bbb">                     </span><span style="color:#998;font-style:italic"># import docker images to KinD</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- image:version                <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># support using env to expand image, such as `${env_key}` or `$env_key`</span><span style="color:#bbb">
</span><span style="color:#bbb">     </span><span style="color:#000080">expose-ports</span>:<span style="color:#bbb">                      </span><span style="color:#998;font-style:italic"># Expose resource for host access</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#000080">namespace</span>:<span style="color:#bbb">                    </span><span style="color:#998;font-style:italic"># The resource namespace</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">resource</span>:<span style="color:#bbb">                     </span><span style="color:#998;font-style:italic"># The resource name, such as `pod/foo` or `service/foo`</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">port</span>:<span style="color:#bbb">                         </span><span style="color:#998;font-style:italic"># Want to expose port from resource</span><span style="color:#bbb">
</span></code></pre></div><blockquote>
<p><strong><em>NOTE:</em></strong> The fields <code>file</code> and <code>kubeconfig</code> are mutually exclusive.</p>
</blockquote>
<p>The <code>KinD</code> environment follow these steps:</p>
<ol>
<li>[optional]Start the <code>KinD</code> cluster according to the config file, expose <code>KUBECONFIG</code> to environment for help execute <code>kubectl</code> in the next steps.</li>
<li>[optional]Setup the kubeconfig field for help execute <code>kubectl</code> in the next steps.</li>
<li>Load docker images from <code>kind.import-images</code> if needed.</li>
<li>Apply the resources files (<code>--manifests</code>) or/and run the custom init command (<code>--commands</code>) by steps.</li>
<li>Wait until all steps are finished and all services are ready with the timeout(second).</li>
<li>Expose all resource ports for host access.</li>
</ol>
<h4 id="import-docker-image">Import docker image</h4>
<p>If you want to import docker image from private registries, there are several ways to do this:</p>
<ol>
<li>Using <code>imagePullSecrets</code> to pull images, <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/#registry-secret-existing-credentials">please take reference from document</a>.</li>
<li>Using <code>kind.import-images</code> to load images from host.
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">kind</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#000080">import-images</span>:<span style="color:#bbb">
</span><span style="color:#bbb">     </span>- skywalking/oap:${OAP_HASH}<span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># support using environment to expand the image name</span><span style="color:#bbb">
</span></code></pre></div></li>
</ol>
<h4 id="resource-export">Resource Export</h4>
<p>If you want to access the resource from host, should follow these steps:</p>
<ol>
<li>Declare which resource and ports need to be accessible from host.
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">setup</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#000080">kind</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">expose-ports</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#000080">namespace</span>:<span style="color:#bbb"> </span>default <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Need to expose resource namespace</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">resource</span>:<span style="color:#bbb"> </span>pod/foo  <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Resource description, such as `pod/foo` or `service/foo`</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#000080">port</span>:<span style="color:#bbb"> </span><span style="color:#099">8080</span><span style="color:#bbb">          </span><span style="color:#998;font-style:italic"># Resource port want to expose, support `&lt;resource_port&gt;`, `&lt;bind_to_host_port&gt;:&lt;resource_port&gt;`</span><span style="color:#bbb">
</span></code></pre></div></li>
<li>Follow this format to get the host and port mapping by the environment, and it&rsquo;s available in steps(trigger, verify).
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">trigger</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#998;font-style:italic"># trigger with specified mapped port, the resource name replace all `/` or `-` as `_`</span><span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#998;font-style:italic"># host format: &lt;resource_name&gt;_host</span><span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#998;font-style:italic"># port format: &lt;resource_name&gt;_&lt;container_port&gt;</span><span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#000080">url</span>:<span style="color:#bbb"> </span>http://${pod_foo_host}:${pod_foo_8080}/<span style="color:#bbb">
</span></code></pre></div></li>
</ol>
<h4 id="log">Log</h4>
<p>The console output of each pod could be found in <code>${workDir}/logs/${namespace}/${podName}.log</code>.</p>
<h3 id="compose">Compose</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">setup</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">env</span>:<span style="color:#bbb"> </span>compose<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">file</span>:<span style="color:#bbb"> </span>path/to/compose.yaml           <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Specified docker-compose file path</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">timeout</span>:<span style="color:#bbb"> </span>20m                         <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Timeout duration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">init-system-environment</span>:<span style="color:#bbb"> </span>path/to/env <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Import environment file</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">steps</span>:<span style="color:#bbb">                                </span><span style="color:#998;font-style:italic"># Customize steps for prepare the environment</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#000080">name</span>:<span style="color:#bbb"> </span>customize setups           <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Step name</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">command</span>:<span style="color:#bbb"> </span>command lines           <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Use command line to setup </span><span style="color:#bbb">
</span></code></pre></div><p>The <code>docker-compose</code> environment follow these steps:</p>
<ol>
<li>Import <code>init-system-environment</code> file for help build service and execute steps.
Each line of the file content is an environment variable, and the key value is separate by &ldquo;=&rdquo;.</li>
<li>Start the <code>docker-compose</code> services.</li>
<li>Check the services' healthiness.</li>
<li>Wait until all services are ready according to the interval, etc.</li>
<li>Execute command to set up the testing environment or help verify.</li>
</ol>
<h4 id="service-export">Service Export</h4>
<p>If you want to get the service host and port mapping, should follow these steps:</p>
<ol>
<li>declare the port in the <code>docker-compose</code> service <code>ports</code> config.
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">oap</span>:<span style="color:#bbb">
</span><span style="color:#bbb"> </span><span style="color:#000080">image</span>:<span style="color:#bbb"> </span>xx.xx:1.0.0<span style="color:#bbb">
</span><span style="color:#bbb"> </span><span style="color:#000080">ports</span>:<span style="color:#bbb">
</span><span style="color:#bbb">     </span><span style="color:#998;font-style:italic"># define the port</span><span style="color:#bbb">
</span><span style="color:#bbb">     </span>- <span style="color:#099">8080</span><span style="color:#bbb">
</span></code></pre></div></li>
<li>Follow this format to get the host and port mapping by the environment, and it&rsquo;s available in steps(trigger, verify).
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">trigger</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#998;font-style:italic"># trigger with specified mappinged port</span><span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#000080">url</span>:<span style="color:#bbb"> </span>http://${oap_host}:${oap_8080}/<span style="color:#bbb">
</span></code></pre></div></li>
</ol>
<h4 id="log-1">Log</h4>
<p>The console output of each service could be found in <code>${workDir}/logs/{serviceName}/std.log</code>.</p>
<h2 id="trigger">Trigger</h2>
<p>After the <code>Setup</code> step is finished, use the <code>Trigger</code> step to generate traffic.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">trigger</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">action</span>:<span style="color:#bbb"> </span>http     <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># The action of the trigger. support HTTP invoke.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">interval</span>:<span style="color:#bbb"> </span>3s     <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Trigger the action every 3 seconds.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">times</span>:<span style="color:#bbb"> </span><span style="color:#099">5</span><span style="color:#bbb">          </span><span style="color:#998;font-style:italic"># The retry count before the request success.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">url</span>:<span style="color:#bbb"> </span>http://apache.skywalking.com/<span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Http trigger url link.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">method</span>:<span style="color:#bbb"> </span>GET      <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Http trigger method.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">headers</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">&#34;Content-Type&#34;: </span><span style="color:#d14">&#34;application/json&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">&#34;Authorization&#34;: </span><span style="color:#d14">&#34;Basic whatever&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">body</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;{&#34;k1&#34;:&#34;v1&#34;, &#34;k2&#34;:&#34;v2&#34;}&#39;</span><span style="color:#bbb">
</span></code></pre></div><p>The Trigger executed successfully at least once, after success, the next stage could be continued. Otherwise, there is an error and exit.</p>
<h2 id="verify">Verify</h2>
<p>After the <code>Trigger</code> step is finished, running test cases.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">verify</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">retry</span>:<span style="color:#bbb">            </span><span style="color:#998;font-style:italic"># verify with retry strategy</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">count</span>:<span style="color:#bbb"> </span><span style="color:#099">10</span><span style="color:#bbb">       </span><span style="color:#998;font-style:italic"># max retry count</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#000080">interval</span>:<span style="color:#bbb"> </span>10s  <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># the interval between two attempts, e.g. 10s, 1m.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">fail-fast</span>:<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">true</span><span style="color:#bbb">  </span><span style="color:#998;font-style:italic"># when a case fails, whether to stop verifying other cases. This property defaults to true.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">concurrency</span>:<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">false</span><span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># whether to verify cases concurrently. This property defaults to false.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#000080">cases</span>:<span style="color:#bbb">            </span><span style="color:#998;font-style:italic"># verify test cases</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#000080">actual</span>:<span style="color:#bbb"> </span>path/to/actual.yaml      <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># verify by actual file path</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">expected</span>:<span style="color:#bbb"> </span>path/to/expected.yaml  <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># excepted content file path</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#000080">query</span>:<span style="color:#bbb"> </span>echo &#39;foo&#39;                <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># verify by command execute output</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#000080">expected</span>:<span style="color:#bbb"> </span>path/to/expected.yaml  <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># excepted content file path</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#000080">includes</span>:<span style="color:#bbb">      </span><span style="color:#998;font-style:italic"># including cases</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- path/to/cases.yaml           <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># cases file path</span><span style="color:#bbb">
</span></code></pre></div><p>The test cases are executed in the order of declaration from top to bottom. When the execution of a case fails and the retry strategy is exceeded, it will stop verifying other cases if <code>fail-fast</code> is <code>true</code>. Otherwise,  the process will continue to verify other cases.</p>
<h3 id="retry-strategy">Retry strategy</h3>
<p>The retry strategy could retry automatically on the test case failure, and restart by the failed test case.</p>
<h3 id="case-source">Case source</h3>
<p>Support two kind source to verify, one case only supports one kind source type:</p>
<ol>
<li>source file: verify by generated <code>yaml</code> format file.</li>
<li>command: use command line output as they need to verify content, also only support <code>yaml</code> format.</li>
</ol>
<h3 id="excepted-verify-template">Excepted verify template</h3>
<p>After clarifying the content that needs to be verified, you need to write content to verify the real content and ensure that the data is correct.</p>
<p>You need to use the form of <a href="https://pkg.go.dev/text/template#pkg-overview">Go Template</a> to write the verification file, and the data content to be rendered comes from the real data. By verifying whether the rendered data is consistent with the real data, it is verified whether the content is consistent.
You could see <a href="https://github.com/apache/skywalking-infra-e2e/tree/1485ae03f0ad90496ad7626a5ae4a6a73a1f6296/test/verify">many test cases in this directory</a>.</p>
<p>We use <a href="https://pkg.go.dev/github.com/google/go-cmp/cmp#Diff">go-cmp</a> to show the parts where excepted do not match the actual data. <code>-</code> prefix represents the expected data content, <code>+</code> prefix represents the actual data content.</p>
<p>We have done a lot of extension functions for verification functions on the original Go Template.</p>
<h4 id="extension-functions">Extension functions</h4>
<p>Extension functions are used to help users quickly locate the problem content and write test cases that are easier to use.</p>
<h5 id="basic-matches">Basic Matches</h5>
<p>Verify that the number fits the range.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Grammar</th>
<th>Verify success</th>
<th>Verify failure</th>
</tr>
</thead>
<tbody>
<tr>
<td>gt</td>
<td>Verify the first param is greater than second param</td>
<td>{{gt param1 param2}}</td>
<td>param1</td>
<td>&lt;wanted gt $param2, but was $param1&gt;</td>
</tr>
<tr>
<td>ge</td>
<td>Verify the first param is greater than or equals second param</td>
<td>{{ge param1 param2}}</td>
<td>param1</td>
<td>&lt;wanted gt $param2, but was $param1&gt;</td>
</tr>
<tr>
<td>lt</td>
<td>Verify the first param is less than second param</td>
<td>{{lt param1 param2}}</td>
<td>param1</td>
<td>&lt;wanted gt $param2, but was $param1&gt;</td>
</tr>
<tr>
<td>le</td>
<td>Verify the first param is less than or equals second param</td>
<td>{{le param1 param2}}</td>
<td>param1</td>
<td>&lt;wanted gt $param2, but was $param1&gt;</td>
</tr>
<tr>
<td>regexp</td>
<td>Verify the first param matches the second regular expression</td>
<td>{{regexp param1 param2}}</td>
<td>param1</td>
<td>&lt;&quot;$param1&quot; does not match the pattern $param2&quot;&gt;</td>
</tr>
<tr>
<td>notEmpty</td>
<td>Verify The param is not empty</td>
<td>{{notEmpty param}}</td>
<td>param</td>
<td>&lt;&quot;&quot; is empty, wanted is not empty&gt;</td>
</tr>
<tr>
<td>hasPrefix</td>
<td>Verify The string param has the same prefix.</td>
<td>{{hasPrefix param1 param2}}</td>
<td>true</td>
<td>false</td>
</tr>
<tr>
<td>hasSuffix</td>
<td>Verify The string param has the same suffix.</td>
<td>{{hasSuffix param1 param2}}</td>
<td>true</td>
<td>false</td>
</tr>
</tbody>
</table>
<h5 id="list-matches">List Matches</h5>
<p>Verify the data in the condition list, Currently, it is only supported when all the conditions in the list are executed, it is considered as successful.</p>
<p>Here is an example, It&rsquo;s means the list values must have value is greater than 0, also have value greater than 1, Otherwise verify is failure.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">{{- contains .list }}<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">key</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>gt .value 0 }}<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#000080">key</span>:<span style="color:#bbb"> </span>{{<span style="color:#bbb"> </span>gt .value 1 }}<span style="color:#bbb">
</span><span style="color:#bbb">        </span>{{- end }}<span style="color:#bbb">
</span></code></pre></div><h5 id="encoding">Encoding</h5>
<p>In order to make the program easier for users to read and use, some code conversions are provided.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Grammar</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>b64enc</td>
<td>Base64 encode</td>
<td>{{ b64enc &ldquo;Foo&rdquo; }}</td>
<td>Zm9v</td>
</tr>
<tr>
<td>sha256enc</td>
<td>Sha256 encode</td>
<td>{{ sha256enc &ldquo;Foo&rdquo; }}</td>
<td>1cbec737f863e4922cee63cc2ebbfaafcd1cff8b790d8cfd2e6a5d550b648afa</td>
</tr>
<tr>
<td>sha512enc</td>
<td>Sha512 encode</td>
<td>{{ sha512enc &ldquo;Foo&rdquo; }}</td>
<td>4abcd2639957cb23e33f63d70659b602a5923fafcfd2768ef79b0badea637e5c837161aa101a557a1d4deacbd912189e2bb11bf3c0c0c70ef7797217da7e8207</td>
</tr>
</tbody>
</table>
<h3 id="reuse-cases">Reuse cases</h3>
<p>You could include multiple cases into one single E2E verify, It&rsquo;s helpful for reusing the same verify cases.</p>
<p>Here is the reused verify cases, and using <code>includes</code> configuration item to include this into E2E config.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">cases</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span>- <span style="color:#000080">actual</span>:<span style="color:#bbb"> </span>path/to/actual.yaml      <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># verify by actual file path</span><span style="color:#bbb">
</span><span style="color:#bbb">     </span><span style="color:#000080">expected</span>:<span style="color:#bbb"> </span>path/to/expected.yaml  <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># excepted content file path</span><span style="color:#bbb">
</span><span style="color:#bbb">   </span>- <span style="color:#000080">query</span>:<span style="color:#bbb"> </span>echo &#39;foo&#39;                <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># verify by command execute output</span><span style="color:#bbb">
</span><span style="color:#bbb">     </span><span style="color:#000080">expected</span>:<span style="color:#bbb"> </span>path/to/expected.yaml  <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># excepted content file path</span><span style="color:#bbb">
</span></code></pre></div><h2 id="cleanup">Cleanup</h2>
<p>After the E2E finished, how to clean up the environment.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#000080">cleanup</span>:<span style="color:#bbb">
</span><span style="color:#bbb">   </span><span style="color:#000080">on</span>:<span style="color:#bbb"> </span>always    <span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># Clean up strategy</span><span style="color:#bbb">
</span></code></pre></div><p>If the <code>on</code> option under <code>cleanup</code> is not set, it will be automatically set to <code>always</code> if there is environment
variable <code>CI=true</code>, which is present on many popular CI services, such as GitHub Actions, CircleCI, etc., otherwise it
will be set to <code>success</code>, so the testing environment can be preserved when tests failed in your local machine.</p>
<p>All available strategies:</p>
<ol>
<li><code>always</code>: No matter the execution result is success or failure, cleanup will be performed.</li>
<li><code>success</code>: Only when the execution succeeds.</li>
<li><code>failure</code>: Only when the execution failed.</li>
<li><code>never</code>: Never clean up the environment.</li>
</ol>




</div>


            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#skywalking-infra-e2e-configuration-guide">SkyWalking Infra E2E Configuration Guide</a>
      <ul>
        <li><a href="#setup">Setup</a>
          <ul>
            <li><a href="#kind">KinD</a></li>
            <li><a href="#compose">Compose</a></li>
          </ul>
        </li>
        <li><a href="#trigger">Trigger</a></li>
        <li><a href="#verify">Verify</a>
          <ul>
            <li><a href="#retry-strategy">Retry strategy</a></li>
            <li><a href="#case-source">Case source</a></li>
            <li><a href="#excepted-verify-template">Excepted verify template</a></li>
            <li><a href="#reuse-cases">Reuse cases</a></li>
          </ul>
        </li>
        <li><a href="#cleanup">Cleanup</a></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2024 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title"><span>中文资料</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="/zh/" class="nav-link external">博客</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://space.bilibili.com/390683219" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">B站</a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://juejin.cn/user/13673577331607" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">掘金</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="nav-item">
            <div class="dropdown-wrapper open">
                <a class="dropdown-title">
                    <span>Links</span>
                    <span class="arrow down"></span>
                </a>
                <ul class="nav-dropdown">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.dc00f5ca911ee5aa105ea6de6b3b7e8d8169ba5a3bf156b1fcfe23dfe3e62b0a.js" integrity="sha256-3AD1ypEe5aoQXqbeazt&#43;jYFpulo78Vax/P4j3&#43;PmKwo=" crossorigin="anonymous"></script>


<script src="/js/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>


<script defer
src="https://widget.kapa.ai/kapa-widget.bundle.js"
data-website-id="8a08392b-9c4d-4816-8bc4-f93e0ecdd2a7"
data-project-name="SkyWalking"
data-project-color="#2B74B8"
data-button-text="Ask AI"
data-search-mode-enabled="true"
data-modal-open-on-command-k="true"
data-modal-disclaimer="The AI supports multiple languages, but it may not be accessible in China, a proxy is required."
data-project-logo="https://miro.medium.com/v2/resize:fit:2400/0*kmS-5BQ8ShAhZ_F4.jpg"
data-modal-example-questions="What is Apache SkyWalking?,How to deploy SkyWalking?,How to inject agents non-intrusively?,How to setup trace sampling?"
data-button-position-top=""
data-button-position-right="20px"
data-button-position-bottom="200px"
data-button-position-left=""
></script>




  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val().toLowerCase();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
